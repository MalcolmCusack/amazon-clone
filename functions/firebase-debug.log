[debug] [2020-09-26T05:23:28.777Z] ----------------------------------------------------------------------
[debug] [2020-09-26T05:23:28.778Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2020-09-26T05:23:28.779Z] CLI Version:   8.10.0
[debug] [2020-09-26T05:23:28.779Z] Platform:      darwin
[debug] [2020-09-26T05:23:28.779Z] Node Version:  v12.18.4
[debug] [2020-09-26T05:23:28.788Z] Time:          Fri Sep 25 2020 23:23:28 GMT-0600 (Mountain Daylight Time)
[debug] [2020-09-26T05:23:28.788Z] ----------------------------------------------------------------------
[debug] [2020-09-26T05:23:28.788Z] 
[debug] [2020-09-26T05:23:28.799Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-09-26T05:23:28.800Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2020-09-26T05:23:28.873Z] [hub] writing locator at /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/hub-clone-924c0.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2020-09-26T05:23:28.906Z] defaultcredentials: writing to file /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json
[debug] [2020-09-26T05:23:28.911Z] Setting GAC to /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json"}}
[info] i  ui: downloading ui-v1.1.1.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.1.1.zip..."}}
[debug] [2020-09-26T05:23:31.288Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-09-26T05:23:31.288Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-09-26T05:23:31.288Z] Starting Emulator UI with command {"binary":"node","args":["/Users/malcolmcusack/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/malcolmcusack/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-09-26T05:23:31.381Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2020-09-26T05:23:31.568Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T05:23:31.568Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-09-26T05:23:31.568Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T05:23:31.568Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77394.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77394.sock"}}
[debug] [2020-09-26T05:23:31.569Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: BUSY"}}
[debug] [2020-09-26T05:23:32.131Z] [runtime-status] [77394] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:23:32.134Z] [runtime-status] [77394] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:23:32.144Z] [runtime-status] [77394] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.154Z] [runtime-status] [77394] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.158Z] [runtime-status] [77394] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.164Z] [runtime-status] [77394] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:23:32.165Z] [runtime-status] [77394] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.278Z] [runtime-status] [77394] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:23:32.278Z] [runtime-status] [77394] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:23:32.278Z] [runtime-status] [77394] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.280Z] [runtime-status] [77394] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.280Z] [runtime-status] [77394] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:23:32.280Z] [runtime-status] [77394] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77394] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-924c0/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-924c0/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-09-26T05:23:32.599Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: IDLE"}}
[debug] [2020-09-26T05:28:06.447Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:28:06.448Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:28:06.449Z] Accepted request GET /clone-924c0/us-central1/api --> api
[debug] [2020-09-26T05:28:06.466Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:28:06.467Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:28:06.467Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:28:06.467Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77442.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77442.sock"}}
[debug] [2020-09-26T05:28:06.467Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: BUSY"}}
[debug] [2020-09-26T05:28:07.358Z] [runtime-status] [77442] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:28:07.362Z] [runtime-status] [77442] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:28:07.368Z] [runtime-status] [77442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.369Z] [runtime-status] [77442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.369Z] [runtime-status] [77442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.373Z] [runtime-status] [77442] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:28:07.373Z] [runtime-status] [77442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.483Z] [runtime-status] [77442] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:28:07.484Z] [runtime-status] [77442] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:28:07.484Z] [runtime-status] [77442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.486Z] [runtime-status] [77442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.486Z] [runtime-status] [77442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:28:07.486Z] [runtime-status] [77442] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:28:07.776Z] [runtime-status] [77442] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:28:07.777Z] [runtime-status] [77442] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:28:07.777Z] [runtime-status] [77442] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:28:07.781Z] [runtime-status] [77442] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77442.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77442.sock"}}
[debug] [2020-09-26T05:28:07.784Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:28:07.793Z] [runtime-status] [77442] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Ephemeral server handling GET request"}}
[debug] [2020-09-26T05:28:07.799Z] [runtime-status] [77442] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77442] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T05:28:07.800Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: IDLE"}}
[debug] [2020-09-26T05:28:07.800Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:28:08.035Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2020-09-26T05:34:14.858Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T05:34:15.864Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T05:34:15.865Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: FINISHING"}}
[debug] [2020-09-26T05:34:15.865Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-09-26T05:34:15.865Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: FINISHING"}}
[debug] [2020-09-26T05:34:15.876Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T05:34:15.876Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T05:34:15.876Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T05:34:15.876Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77461.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77461.sock"}}
[debug] [2020-09-26T05:34:15.877Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: BUSY"}}
[debug] [2020-09-26T05:34:15.881Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: exited"}}
[debug] [2020-09-26T05:34:15.881Z] [worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-82f94e31-8da2-421d-99ff-2a42de0cdae2]: FINISHED"}}
[debug] [2020-09-26T05:34:15.881Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: exited"}}
[debug] [2020-09-26T05:34:15.881Z] [worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd888a75-c3b8-4aff-8137-e736ac59d214]: FINISHED"}}
[debug] [2020-09-26T05:34:16.612Z] [runtime-status] [77461] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:34:16.614Z] [runtime-status] [77461] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:34:16.624Z] [runtime-status] [77461] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.626Z] [runtime-status] [77461] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.626Z] [runtime-status] [77461] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.628Z] [runtime-status] [77461] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:34:16.629Z] [runtime-status] [77461] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.731Z] [runtime-status] [77461] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:34:16.732Z] [runtime-status] [77461] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:34:16.734Z] [runtime-status] [77461] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.735Z] [runtime-status] [77461] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.736Z] [runtime-status] [77461] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:34:16.737Z] [runtime-status] [77461] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77461] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:34:17.163Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: IDLE"}}
[debug] [2020-09-26T05:39:26.261Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:39:26.262Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:39:26.263Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=8968 --> api
[debug] [2020-09-26T05:39:26.263Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T05:39:26.263Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T05:39:26.278Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:39:26.278Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:39:26.278Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:39:26.279Z] [worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77537.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77537.sock"}}
[debug] [2020-09-26T05:39:26.279Z] [worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: BUSY"}}
[debug] [2020-09-26T05:39:27.354Z] [runtime-status] [77537] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:39:27.376Z] [runtime-status] [77537] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:39:27.382Z] [runtime-status] [77537] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.415Z] [runtime-status] [77537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.420Z] [runtime-status] [77537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.444Z] [runtime-status] [77537] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:39:27.448Z] [runtime-status] [77537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.717Z] [runtime-status] [77537] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:39:27.719Z] [runtime-status] [77537] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:39:27.720Z] [runtime-status] [77537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.722Z] [runtime-status] [77537] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.725Z] [runtime-status] [77537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:39:27.725Z] [runtime-status] [77537] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:39:28.084Z] [runtime-status] [77537] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:39:28.086Z] [runtime-status] [77537] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:39:28.086Z] [runtime-status] [77537] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:39:28.098Z] [runtime-status] [77537] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77537.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77537.sock"}}
[debug] [2020-09-26T05:39:28.104Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:39:28.121Z] [runtime-status] [77537] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  8968 {"user":"Payment Request Recived  8968","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  8968"}}
[debug] [2020-09-26T05:39:28.134Z] [runtime-status] [77537] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77537] Ephemeral server survived."}}
[info] >  (node:77537) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77537) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77537) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77537) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77537) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77537) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77537) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77537) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77537) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:40:28.108Z] [worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: exited"}}
[debug] [2020-09-26T05:40:28.108Z] [worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fb7da2f-8675-41e0-abd6-1dbf7e119ecc]: FINISHED"}}
[debug] [2020-09-26T05:40:28.108Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:41:11.207Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:41:11.207Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:41:11.207Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=8968 --> api
[debug] [2020-09-26T05:41:11.207Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T05:41:11.239Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:41:11.239Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:41:11.239Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:41:11.239Z] [worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77542.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77542.sock"}}
[debug] [2020-09-26T05:41:11.240Z] [worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: BUSY"}}
[debug] [2020-09-26T05:41:12.456Z] [runtime-status] [77542] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:41:12.460Z] [runtime-status] [77542] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:41:12.542Z] [runtime-status] [77542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.588Z] [runtime-status] [77542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.631Z] [runtime-status] [77542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.657Z] [runtime-status] [77542] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:41:12.658Z] [runtime-status] [77542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.776Z] [runtime-status] [77542] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:41:12.777Z] [runtime-status] [77542] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:41:12.778Z] [runtime-status] [77542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.778Z] [runtime-status] [77542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.779Z] [runtime-status] [77542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:12.779Z] [runtime-status] [77542] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:41:13.140Z] [runtime-status] [77542] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:41:13.142Z] [runtime-status] [77542] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:41:13.143Z] [runtime-status] [77542] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:41:13.165Z] [runtime-status] [77542] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77542.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77542.sock"}}
[debug] [2020-09-26T05:41:13.168Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:41:13.176Z] [runtime-status] [77542] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  8968 {"user":"Payment Request Recived  8968","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  8968"}}
[debug] [2020-09-26T05:41:13.183Z] [runtime-status] [77542] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77542] Ephemeral server survived."}}
[info] >  (node:77542) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77542) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77542) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T05:41:34.849Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T05:41:34.849Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T05:41:34.849Z] Accepted request GET /clone-924c0/us-central1/api --> api
[debug] [2020-09-26T05:41:34.853Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:41:34.853Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T05:41:34.853Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:41:34.853Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock"}}
[debug] [2020-09-26T05:41:34.853Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: BUSY"}}
[debug] [2020-09-26T05:41:35.106Z] [runtime-status] [77546] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:41:35.113Z] [runtime-status] [77546] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:41:35.113Z] [runtime-status] [77546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.113Z] [runtime-status] [77546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.113Z] [runtime-status] [77546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.113Z] [runtime-status] [77546] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:41:35.114Z] [runtime-status] [77546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.142Z] [runtime-status] [77546] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:41:35.143Z] [runtime-status] [77546] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:41:35.143Z] [runtime-status] [77546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.144Z] [runtime-status] [77546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.144Z] [runtime-status] [77546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:41:35.144Z] [runtime-status] [77546] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:41:35.236Z] [runtime-status] [77546] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:41:35.237Z] [runtime-status] [77546] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:41:35.237Z] [runtime-status] [77546] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:41:35.244Z] [runtime-status] [77546] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock"}}
[debug] [2020-09-26T05:41:35.248Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:41:35.253Z] [runtime-status] [77546] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Ephemeral server handling GET request"}}
[debug] [2020-09-26T05:41:35.261Z] [runtime-status] [77546] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T05:41:35.270Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: IDLE"}}
[debug] [2020-09-26T05:41:35.271Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:42:13.178Z] [worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: exited"}}
[debug] [2020-09-26T05:42:13.178Z] [worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1d1b2f33-79e9-44c8-997b-f3d128f90712]: FINISHED"}}
[debug] [2020-09-26T05:42:13.178Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:42:41.108Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:42:41.108Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:42:41.109Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T05:42:41.109Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T05:42:41.109Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:42:41.109Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock"}}
[debug] [2020-09-26T05:42:41.109Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: BUSY"}}
[debug] [2020-09-26T05:42:41.109Z] [runtime-status] [77546] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:42:41.110Z] [runtime-status] [77546] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:42:41.110Z] [runtime-status] [77546] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:42:41.110Z] [runtime-status] [77546] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77546.sock"}}
[debug] [2020-09-26T05:42:41.111Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:42:41.116Z] [runtime-status] [77546] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Ephemeral server handling POST request"}}
[debug] [2020-09-26T05:42:41.116Z] [runtime-status] [77546] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77546] Ephemeral server survived."}}
[info] >  Payment Request Recived  0 {"user":"Payment Request Recived  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  0"}}
[info] >  (node:77546) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77546) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77546) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77546) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77546) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77546) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77546) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77546) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77546) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T05:43:08.876Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T05:43:08.877Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T05:43:08.877Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=11961 --> api
[debug] [2020-09-26T05:43:08.892Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:43:08.892Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T05:43:08.892Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:43:08.892Z] [worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77566.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77566.sock"}}
[debug] [2020-09-26T05:43:08.892Z] [worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: BUSY"}}
[debug] [2020-09-26T05:43:09.702Z] [runtime-status] [77566] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:43:09.704Z] [runtime-status] [77566] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:43:09.713Z] [runtime-status] [77566] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.715Z] [runtime-status] [77566] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.717Z] [runtime-status] [77566] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.719Z] [runtime-status] [77566] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:43:09.719Z] [runtime-status] [77566] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.804Z] [runtime-status] [77566] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:43:09.804Z] [runtime-status] [77566] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:43:09.804Z] [runtime-status] [77566] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.805Z] [runtime-status] [77566] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.807Z] [runtime-status] [77566] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:43:09.807Z] [runtime-status] [77566] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:43:10.075Z] [runtime-status] [77566] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:43:10.077Z] [runtime-status] [77566] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:43:10.077Z] [runtime-status] [77566] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:43:10.086Z] [runtime-status] [77566] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77566.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77566.sock"}}
[debug] [2020-09-26T05:43:10.088Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:43:10.094Z] [runtime-status] [77566] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  11961 {"user":"Payment Request Recived  11961","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  11961"}}
[debug] [2020-09-26T05:43:10.099Z] [runtime-status] [77566] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77566] Ephemeral server survived."}}
[info] >  (node:77566) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77566) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77566) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77566) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77566) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77566) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77566) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77566) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77566) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:43:41.133Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: exited"}}
[debug] [2020-09-26T05:43:41.133Z] [worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38ac6a00-6282-4ad5-ab0a-5179a1bde55f]: FINISHED"}}
[debug] [2020-09-26T05:43:41.133Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:44:10.105Z] [worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: exited"}}
[debug] [2020-09-26T05:44:10.105Z] [worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08692924-01e8-4c3e-8133-9e098f9bd71f]: FINISHED"}}
[debug] [2020-09-26T05:44:10.105Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:46:08.461Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:46:08.461Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:46:08.461Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4992 --> api
[debug] [2020-09-26T05:46:08.461Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T05:46:08.479Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:46:08.482Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:46:08.482Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:46:08.485Z] [worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77573.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77573.sock"}}
[debug] [2020-09-26T05:46:08.485Z] [worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: BUSY"}}
[debug] [2020-09-26T05:46:09.594Z] [runtime-status] [77573] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:46:09.594Z] [runtime-status] [77573] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:46:09.596Z] [runtime-status] [77573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.604Z] [runtime-status] [77573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.608Z] [runtime-status] [77573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.609Z] [runtime-status] [77573] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:46:09.610Z] [runtime-status] [77573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.725Z] [runtime-status] [77573] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:46:09.726Z] [runtime-status] [77573] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:09.728Z] [runtime-status] [77573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.728Z] [runtime-status] [77573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.729Z] [runtime-status] [77573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:09.729Z] [runtime-status] [77573] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:10.515Z] [runtime-status] [77573] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:46:10.516Z] [runtime-status] [77573] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:46:10.516Z] [runtime-status] [77573] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:46:10.522Z] [runtime-status] [77573] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77573.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77573.sock"}}
[debug] [2020-09-26T05:46:10.532Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:46:10.545Z] [runtime-status] [77573] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  4992 {"user":"Payment Request Recived  4992","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  4992"}}
[debug] [2020-09-26T05:46:10.549Z] [runtime-status] [77573] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77573] Ephemeral server survived."}}
[info] >  (node:77573) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77573) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77573) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77573) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77573) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77573) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77573) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77573) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77573) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T05:46:45.566Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T05:46:45.566Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T05:46:45.566Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T05:46:45.571Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:46:45.571Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T05:46:45.571Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:46:45.571Z] [worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77576.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77576.sock"}}
[debug] [2020-09-26T05:46:45.571Z] [worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: BUSY"}}
[debug] [2020-09-26T05:46:46.273Z] [runtime-status] [77576] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:46:46.275Z] [runtime-status] [77576] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:46:46.292Z] [runtime-status] [77576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.293Z] [runtime-status] [77576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.294Z] [runtime-status] [77576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.298Z] [runtime-status] [77576] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:46:46.299Z] [runtime-status] [77576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.358Z] [runtime-status] [77576] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:46:46.361Z] [runtime-status] [77576] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:46.367Z] [runtime-status] [77576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.368Z] [runtime-status] [77576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.368Z] [runtime-status] [77576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:46.369Z] [runtime-status] [77576] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:46.705Z] [runtime-status] [77576] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:46:46.705Z] [runtime-status] [77576] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:46:46.706Z] [runtime-status] [77576] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:46:46.735Z] [runtime-status] [77576] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77576.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77576.sock"}}
[debug] [2020-09-26T05:46:46.737Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:46:46.751Z] [runtime-status] [77576] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  0 {"user":"Payment Request Recived  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  0"}}
[debug] [2020-09-26T05:46:46.756Z] [runtime-status] [77576] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77576] Ephemeral server survived."}}
[info] >  (node:77576) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77576) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77576) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T05:46:57.504Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T05:46:57.504Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T05:46:57.504Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=20907 --> api
[debug] [2020-09-26T05:46:57.518Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:46:57.518Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T05:46:57.518Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:46:57.518Z] [worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77577.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77577.sock"}}
[debug] [2020-09-26T05:46:57.518Z] [worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: BUSY"}}
[debug] [2020-09-26T05:46:57.957Z] [runtime-status] [77577] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:46:57.960Z] [runtime-status] [77577] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:46:57.970Z] [runtime-status] [77577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:57.971Z] [runtime-status] [77577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:57.971Z] [runtime-status] [77577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:57.973Z] [runtime-status] [77577] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:46:57.973Z] [runtime-status] [77577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:58.000Z] [runtime-status] [77577] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:46:58.001Z] [runtime-status] [77577] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:58.001Z] [runtime-status] [77577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:58.002Z] [runtime-status] [77577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:58.003Z] [runtime-status] [77577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:46:58.004Z] [runtime-status] [77577] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:46:58.092Z] [runtime-status] [77577] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:46:58.093Z] [runtime-status] [77577] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:46:58.093Z] [runtime-status] [77577] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:46:58.107Z] [runtime-status] [77577] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77577.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77577.sock"}}
[debug] [2020-09-26T05:46:58.112Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:46:58.118Z] [runtime-status] [77577] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Ephemeral server handling POST request"}}
[info] >  Payment Request Recived  20907 {"user":"Payment Request Recived  20907","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Recived  20907"}}
[debug] [2020-09-26T05:46:58.141Z] [runtime-status] [77577] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77577] Ephemeral server survived."}}
[info] >  (node:77577) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77577) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77577) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77577) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77577) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77577) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77577) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77577) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77577) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:47:10.540Z] [worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: exited"}}
[debug] [2020-09-26T05:47:10.541Z] [worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-75afe5c3-be07-43d1-81b9-b71f0e8ed6ab]: FINISHED"}}
[debug] [2020-09-26T05:47:10.541Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:47:46.748Z] [worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: exited"}}
[debug] [2020-09-26T05:47:46.748Z] [worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f3f6c80f-5eb7-4c67-b348-e10ed0e84d68]: FINISHED"}}
[debug] [2020-09-26T05:47:46.748Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:47:58.125Z] [worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: exited"}}
[debug] [2020-09-26T05:47:58.126Z] [worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-57bcb2b3-e8e3-45c9-af08-e167f6ea2737]: FINISHED"}}
[debug] [2020-09-26T05:47:58.126Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:49:53.076Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T05:49:54.080Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T05:49:54.081Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: FINISHING"}}
[debug] [2020-09-26T05:49:54.081Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-09-26T05:49:54.146Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T05:49:54.146Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T05:49:54.146Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T05:49:54.146Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77587.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77587.sock"}}
[debug] [2020-09-26T05:49:54.146Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: BUSY"}}
[debug] [2020-09-26T05:49:54.147Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: exited"}}
[debug] [2020-09-26T05:49:54.147Z] [worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23ac6b9e-444f-4b36-9028-e9da95f61c4c]: FINISHED"}}
[debug] [2020-09-26T05:49:55.171Z] [runtime-status] [77587] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:49:55.173Z] [runtime-status] [77587] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:49:55.177Z] [runtime-status] [77587] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.180Z] [runtime-status] [77587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.181Z] [runtime-status] [77587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.186Z] [runtime-status] [77587] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:49:55.186Z] [runtime-status] [77587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.312Z] [runtime-status] [77587] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:49:55.312Z] [runtime-status] [77587] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:49:55.313Z] [runtime-status] [77587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.315Z] [runtime-status] [77587] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.316Z] [runtime-status] [77587] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:49:55.316Z] [runtime-status] [77587] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77587] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:49:55.605Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: IDLE"}}
[debug] [2020-09-26T05:52:46.401Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:52:46.403Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:52:46.404Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T05:52:46.404Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T05:52:46.422Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:52:46.423Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:52:46.423Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:52:46.423Z] [worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77621.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77621.sock"}}
[debug] [2020-09-26T05:52:46.423Z] [worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: BUSY"}}
[debug] [2020-09-26T05:52:47.457Z] [runtime-status] [77621] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:52:47.458Z] [runtime-status] [77621] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:52:47.471Z] [runtime-status] [77621] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.472Z] [runtime-status] [77621] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.483Z] [runtime-status] [77621] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.486Z] [runtime-status] [77621] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:52:47.486Z] [runtime-status] [77621] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.653Z] [runtime-status] [77621] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:52:47.653Z] [runtime-status] [77621] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:52:47.654Z] [runtime-status] [77621] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.655Z] [runtime-status] [77621] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.656Z] [runtime-status] [77621] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:52:47.656Z] [runtime-status] [77621] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:52:47.993Z] [runtime-status] [77621] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:52:47.994Z] [runtime-status] [77621] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:52:47.994Z] [runtime-status] [77621] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:52:48.011Z] [runtime-status] [77621] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77621.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77621.sock"}}
[debug] [2020-09-26T05:52:48.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:52:48.050Z] [runtime-status] [77621] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T05:52:48.058Z] [runtime-status] [77621] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77621] Ephemeral server survived."}}
[info] >  (node:77621) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77621) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77621) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77621) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77621) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77621) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77621) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77621) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77621) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T05:53:14.080Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T05:53:14.080Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T05:53:14.080Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=8968 --> api
[debug] [2020-09-26T05:53:14.110Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:53:14.114Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T05:53:14.115Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:53:14.115Z] [worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77624.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77624.sock"}}
[debug] [2020-09-26T05:53:14.115Z] [worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: BUSY"}}
[debug] [2020-09-26T05:53:15.004Z] [runtime-status] [77624] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:53:15.016Z] [runtime-status] [77624] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:53:15.020Z] [runtime-status] [77624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.030Z] [runtime-status] [77624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.030Z] [runtime-status] [77624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.033Z] [runtime-status] [77624] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:53:15.033Z] [runtime-status] [77624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.134Z] [runtime-status] [77624] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:53:15.135Z] [runtime-status] [77624] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:53:15.135Z] [runtime-status] [77624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.136Z] [runtime-status] [77624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.137Z] [runtime-status] [77624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:53:15.137Z] [runtime-status] [77624] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:53:15.419Z] [runtime-status] [77624] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:53:15.557Z] [runtime-status] [77624] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:53:15.557Z] [runtime-status] [77624] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:53:15.570Z] [runtime-status] [77624] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77624.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77624.sock"}}
[debug] [2020-09-26T05:53:15.573Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:53:15.584Z] [runtime-status] [77624] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  8968 {"user":"Payment Request got! YEET! >>>  8968","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  8968"}}
[debug] [2020-09-26T05:53:15.608Z] [runtime-status] [77624] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77624] Ephemeral server survived."}}
[info] >  (node:77624) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77624) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77624) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77624) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77624) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77624) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77624) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77624) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77624) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:53:48.013Z] [worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: exited"}}
[debug] [2020-09-26T05:53:48.013Z] [worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-394b3f6b-6b98-49a5-a386-5f7c9d129c20]: FINISHED"}}
[debug] [2020-09-26T05:53:48.013Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:54:15.588Z] [worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: exited"}}
[debug] [2020-09-26T05:54:15.588Z] [worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a3b503f7-a498-4243-97b5-3b1fa2f43716]: FINISHED"}}
[debug] [2020-09-26T05:54:15.588Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T05:57:05.206Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T05:57:06.206Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T05:57:06.206Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: FINISHING"}}
[debug] [2020-09-26T05:57:06.207Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T05:57:06.242Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T05:57:06.242Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T05:57:06.242Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T05:57:06.242Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77641.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77641.sock"}}
[debug] [2020-09-26T05:57:06.243Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: BUSY"}}
[debug] [2020-09-26T05:57:06.243Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: exited"}}
[debug] [2020-09-26T05:57:06.243Z] [worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2a8b9ce4-0059-4aa3-bccb-3ef1d10845e6]: FINISHED"}}
[debug] [2020-09-26T05:57:07.154Z] [runtime-status] [77641] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:57:07.160Z] [runtime-status] [77641] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:57:07.163Z] [runtime-status] [77641] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.164Z] [runtime-status] [77641] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.165Z] [runtime-status] [77641] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.169Z] [runtime-status] [77641] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:57:07.170Z] [runtime-status] [77641] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.315Z] [runtime-status] [77641] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:57:07.315Z] [runtime-status] [77641] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:57:07.316Z] [runtime-status] [77641] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.317Z] [runtime-status] [77641] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.317Z] [runtime-status] [77641] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:07.319Z] [runtime-status] [77641] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77641] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:57:07.669Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: IDLE"}}
[debug] [2020-09-26T05:57:56.423Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T05:57:56.423Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T05:57:56.424Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T05:57:56.424Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T05:57:56.429Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T05:57:56.430Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T05:57:56.430Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T05:57:56.430Z] [worker-api-444ad991-5357-4999-83bd-a423b77f1604]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77666.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-444ad991-5357-4999-83bd-a423b77f1604]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77666.sock"}}
[debug] [2020-09-26T05:57:56.430Z] [worker-api-444ad991-5357-4999-83bd-a423b77f1604]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-444ad991-5357-4999-83bd-a423b77f1604]: BUSY"}}
[debug] [2020-09-26T05:57:57.128Z] [runtime-status] [77666] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T05:57:57.131Z] [runtime-status] [77666] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Disabled runtime features: undefined"}}
[debug] [2020-09-26T05:57:57.138Z] [runtime-status] [77666] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.140Z] [runtime-status] [77666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.140Z] [runtime-status] [77666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.142Z] [runtime-status] [77666] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T05:57:57.142Z] [runtime-status] [77666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.225Z] [runtime-status] [77666] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T05:57:57.253Z] [runtime-status] [77666] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T05:57:57.254Z] [runtime-status] [77666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.255Z] [runtime-status] [77666] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.255Z] [runtime-status] [77666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T05:57:57.255Z] [runtime-status] [77666] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T05:57:57.694Z] [runtime-status] [77666] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T05:57:57.696Z] [runtime-status] [77666] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T05:57:57.696Z] [runtime-status] [77666] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Running api in mode HTTPS"}}
[debug] [2020-09-26T05:57:57.762Z] [runtime-status] [77666] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77666.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77666.sock"}}
[debug] [2020-09-26T05:57:57.773Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T05:57:57.793Z] [runtime-status] [77666] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T05:57:57.813Z] [runtime-status] [77666] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77666] Ephemeral server survived."}}
[info] >  (node:77666) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77666) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77666) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77666) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77666) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77666) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77666) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77666) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77666) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T05:58:57.717Z] [worker-api-444ad991-5357-4999-83bd-a423b77f1604]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-444ad991-5357-4999-83bd-a423b77f1604]: exited"}}
[debug] [2020-09-26T05:58:57.717Z] [worker-api-444ad991-5357-4999-83bd-a423b77f1604]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-444ad991-5357-4999-83bd-a423b77f1604]: FINISHED"}}
[debug] [2020-09-26T05:58:57.717Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T06:02:47.450Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T06:02:47.451Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T06:02:47.451Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=9965 --> api
[debug] [2020-09-26T06:02:47.451Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T06:02:47.471Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T06:02:47.471Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T06:02:47.471Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T06:02:47.471Z] [worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77705.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77705.sock"}}
[debug] [2020-09-26T06:02:47.471Z] [worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: BUSY"}}
[debug] [2020-09-26T06:02:48.335Z] [runtime-status] [77705] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T06:02:48.337Z] [runtime-status] [77705] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Disabled runtime features: undefined"}}
[debug] [2020-09-26T06:02:48.349Z] [runtime-status] [77705] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.353Z] [runtime-status] [77705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.354Z] [runtime-status] [77705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.355Z] [runtime-status] [77705] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T06:02:48.356Z] [runtime-status] [77705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.506Z] [runtime-status] [77705] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T06:02:48.506Z] [runtime-status] [77705] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T06:02:48.506Z] [runtime-status] [77705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.517Z] [runtime-status] [77705] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.517Z] [runtime-status] [77705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:02:48.517Z] [runtime-status] [77705] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T06:02:48.806Z] [runtime-status] [77705] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T06:02:48.808Z] [runtime-status] [77705] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T06:02:48.808Z] [runtime-status] [77705] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Running api in mode HTTPS"}}
[debug] [2020-09-26T06:02:48.808Z] [runtime-status] [77705] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77705.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77705.sock"}}
[debug] [2020-09-26T06:02:48.818Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T06:02:48.859Z] [runtime-status] [77705] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  9965 {"user":"Payment Request got! YEET! >>>  9965","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  9965"}}
[debug] [2020-09-26T06:02:48.875Z] [runtime-status] [77705] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77705] Ephemeral server survived."}}
[info] >  (node:77705) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77705) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77705) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77705) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77705) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77705) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77705) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77705) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77705) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T06:03:48.823Z] [worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: exited"}}
[debug] [2020-09-26T06:03:48.823Z] [worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-741313ad-a2c4-431b-ad04-06addf93f18a]: FINISHED"}}
[debug] [2020-09-26T06:03:48.823Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T06:07:32.506Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T06:07:33.507Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T06:07:33.507Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: FINISHING"}}
[debug] [2020-09-26T06:07:33.508Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T06:07:33.514Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T06:07:33.515Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T06:07:33.515Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T06:07:33.515Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77733.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77733.sock"}}
[debug] [2020-09-26T06:07:33.515Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: BUSY"}}
[debug] [2020-09-26T06:07:33.516Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: exited"}}
[debug] [2020-09-26T06:07:33.516Z] [worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9f4ce98-7ed3-4f0b-900f-cbf7eaa3b55d]: FINISHED"}}
[debug] [2020-09-26T06:07:34.450Z] [runtime-status] [77733] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T06:07:34.453Z] [runtime-status] [77733] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Disabled runtime features: undefined"}}
[debug] [2020-09-26T06:07:34.458Z] [runtime-status] [77733] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.460Z] [runtime-status] [77733] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.461Z] [runtime-status] [77733] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.467Z] [runtime-status] [77733] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T06:07:34.468Z] [runtime-status] [77733] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.564Z] [runtime-status] [77733] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T06:07:34.565Z] [runtime-status] [77733] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T06:07:34.566Z] [runtime-status] [77733] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.569Z] [runtime-status] [77733] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.569Z] [runtime-status] [77733] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:34.570Z] [runtime-status] [77733] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77733] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T06:07:34.775Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: IDLE"}}
[debug] [2020-09-26T06:07:40.276Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T06:07:41.279Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T06:07:41.280Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: FINISHING"}}
[debug] [2020-09-26T06:07:41.280Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T06:07:41.288Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T06:07:41.288Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T06:07:41.288Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T06:07:41.288Z] [worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77746.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77746.sock"}}
[debug] [2020-09-26T06:07:41.288Z] [worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: BUSY"}}
[debug] [2020-09-26T06:07:41.289Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: exited"}}
[debug] [2020-09-26T06:07:41.289Z] [worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48a424d5-443d-4741-8528-e7ad78f53390]: FINISHED"}}
[debug] [2020-09-26T06:07:41.738Z] [runtime-status] [77746] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T06:07:41.747Z] [runtime-status] [77746] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Disabled runtime features: undefined"}}
[debug] [2020-09-26T06:07:41.750Z] [runtime-status] [77746] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.755Z] [runtime-status] [77746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.756Z] [runtime-status] [77746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.759Z] [runtime-status] [77746] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T06:07:41.759Z] [runtime-status] [77746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.817Z] [runtime-status] [77746] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T06:07:41.817Z] [runtime-status] [77746] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T06:07:41.817Z] [runtime-status] [77746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.818Z] [runtime-status] [77746] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.819Z] [runtime-status] [77746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:07:41.819Z] [runtime-status] [77746] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [77746] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T06:07:41.987Z] [worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-14f0496a-fb38-4156-b469-ff08bc8b5cf6]: IDLE"}}
[debug] [2020-09-26T06:08:00.459Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T06:08:00.459Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T06:08:00.459Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=22931 --> api
[debug] [2020-09-26T06:08:00.459Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T06:08:00.489Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T06:08:00.489Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T06:08:00.489Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T06:08:00.490Z] [worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77761.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77761.sock"}}
[debug] [2020-09-26T06:08:00.490Z] [worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: BUSY"}}
[debug] [2020-09-26T06:08:01.509Z] [runtime-status] [77761] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T06:08:01.510Z] [runtime-status] [77761] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Disabled runtime features: undefined"}}
[debug] [2020-09-26T06:08:01.514Z] [runtime-status] [77761] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.523Z] [runtime-status] [77761] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.524Z] [runtime-status] [77761] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.529Z] [runtime-status] [77761] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T06:08:01.529Z] [runtime-status] [77761] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.687Z] [runtime-status] [77761] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T06:08:01.687Z] [runtime-status] [77761] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T06:08:01.693Z] [runtime-status] [77761] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.694Z] [runtime-status] [77761] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.695Z] [runtime-status] [77761] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T06:08:01.695Z] [runtime-status] [77761] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T06:08:02.163Z] [runtime-status] [77761] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T06:08:02.166Z] [runtime-status] [77761] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T06:08:02.166Z] [runtime-status] [77761] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Running api in mode HTTPS"}}
[debug] [2020-09-26T06:08:02.201Z] [runtime-status] [77761] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77761.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_77761.sock"}}
[debug] [2020-09-26T06:08:02.209Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T06:08:02.231Z] [runtime-status] [77761] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  22931 {"user":"Payment Request got! YEET! >>>  22931","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  22931"}}
[debug] [2020-09-26T06:08:02.290Z] [runtime-status] [77761] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [77761] Ephemeral server survived."}}
[info] >  (node:77761) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:77761) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77761) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js:22:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:77761) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:77761) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77761) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:77761) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:77761) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:77761) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T06:09:02.191Z] [worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: exited"}}
[debug] [2020-09-26T06:09:02.191Z] [worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-95a079bb-112d-419e-a7df-20567d160f7f]: FINISHED"}}
[debug] [2020-09-26T06:09:02.192Z] [work-queue] {"queueLength":0,"workRunningCount":0}

[debug] [2020-09-26T21:45:40.408Z] ----------------------------------------------------------------------
[debug] [2020-09-26T21:45:40.410Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2020-09-26T21:45:40.410Z] CLI Version:   8.10.0
[debug] [2020-09-26T21:45:40.410Z] Platform:      darwin
[debug] [2020-09-26T21:45:40.410Z] Node Version:  v12.18.4
[debug] [2020-09-26T21:45:40.412Z] Time:          Sat Sep 26 2020 15:45:40 GMT-0600 (Mountain Daylight Time)
[debug] [2020-09-26T21:45:40.412Z] ----------------------------------------------------------------------
[debug] [2020-09-26T21:45:40.412Z] 
[debug] [2020-09-26T21:45:40.422Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-09-26T21:45:40.423Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2020-09-26T21:45:40.445Z] [hub] writing locator at /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/hub-clone-924c0.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2020-09-26T21:45:40.568Z] defaultcredentials: writing to file /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json
[debug] [2020-09-26T21:45:40.570Z] Setting GAC to /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/malcolmcusack/.config/firebase/cusackmalk_gmail_com_application_default_credentials.json"}}
[debug] [2020-09-26T21:45:40.883Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-09-26T21:45:40.884Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-09-26T21:45:40.884Z] Starting Emulator UI with command {"binary":"node","args":["/Users/malcolmcusack/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/malcolmcusack/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-09-26T21:45:40.971Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2020-09-26T21:45:41.191Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T21:45:41.191Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-09-26T21:45:41.191Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T21:45:41.191Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1780.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1780.sock"}}
[debug] [2020-09-26T21:45:41.192Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: BUSY"}}
[debug] [2020-09-26T21:45:41.441Z] [runtime-status] [1780] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T21:45:41.442Z] [runtime-status] [1780] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Disabled runtime features: undefined"}}
[debug] [2020-09-26T21:45:41.464Z] [runtime-status] [1780] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.473Z] [runtime-status] [1780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.474Z] [runtime-status] [1780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.476Z] [runtime-status] [1780] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T21:45:41.476Z] [runtime-status] [1780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.594Z] [runtime-status] [1780] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T21:45:41.595Z] [runtime-status] [1780] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T21:45:41.595Z] [runtime-status] [1780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.596Z] [runtime-status] [1780] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.598Z] [runtime-status] [1780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:41.598Z] [runtime-status] [1780] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1780] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-924c0/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-924c0/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-09-26T21:45:41.924Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: IDLE"}}
[debug] [2020-09-26T21:45:51.619Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:45:51.620Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:45:51.620Z] Accepted request GET /clone-924c0/us-central1/api --> api
[debug] [2020-09-26T21:45:51.624Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T21:45:51.624Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T21:45:51.624Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:45:51.624Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:51.625Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY"}}
[debug] [2020-09-26T21:45:52.279Z] [runtime-status] [1796] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T21:45:52.285Z] [runtime-status] [1796] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Disabled runtime features: undefined"}}
[debug] [2020-09-26T21:45:52.288Z] [runtime-status] [1796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.290Z] [runtime-status] [1796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.291Z] [runtime-status] [1796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.295Z] [runtime-status] [1796] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T21:45:52.297Z] [runtime-status] [1796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.388Z] [runtime-status] [1796] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T21:45:52.388Z] [runtime-status] [1796] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T21:45:52.388Z] [runtime-status] [1796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.389Z] [runtime-status] [1796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.390Z] [runtime-status] [1796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:45:52.390Z] [runtime-status] [1796] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T21:45:52.649Z] [runtime-status] [1796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:45:52.650Z] [runtime-status] [1796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:45:52.650Z] [runtime-status] [1796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:45:52.653Z] [runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:52.656Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:45:52.665Z] [runtime-status] [1796] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server handling GET request"}}
[debug] [2020-09-26T21:45:52.670Z] [runtime-status] [1796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T21:45:52.672Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE"}}
[debug] [2020-09-26T21:45:52.672Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T21:45:52.987Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2020-09-26T21:45:56.022Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:45:56.022Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:45:56.023Z] Accepted request GET /clone-924c0/us-central1/api --> api
[debug] [2020-09-26T21:45:56.023Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:45:56.023Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:56.023Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY"}}
[debug] [2020-09-26T21:45:56.030Z] [runtime-status] [1796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:45:56.031Z] [runtime-status] [1796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:45:56.031Z] [runtime-status] [1796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:45:56.031Z] [runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:56.032Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:45:56.041Z] [runtime-status] [1796] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server handling GET request"}}
[debug] [2020-09-26T21:45:56.042Z] [runtime-status] [1796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T21:45:56.055Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE"}}
[debug] [2020-09-26T21:45:56.055Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T21:45:59.211Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:45:59.211Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:45:59.211Z] Accepted request GET /clone-924c0/us-central1/api --> api
[debug] [2020-09-26T21:45:59.212Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:45:59.212Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:59.212Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY"}}
[debug] [2020-09-26T21:45:59.213Z] [runtime-status] [1796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:45:59.213Z] [runtime-status] [1796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:45:59.213Z] [runtime-status] [1796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:45:59.213Z] [runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:45:59.214Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:45:59.217Z] [runtime-status] [1796] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server handling GET request"}}
[debug] [2020-09-26T21:45:59.217Z] [runtime-status] [1796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T21:45:59.218Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: IDLE"}}
[debug] [2020-09-26T21:45:59.218Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T21:46:15.251Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:46:15.251Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:46:15.251Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3997.9999999999995 --> api
[debug] [2020-09-26T21:46:15.251Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:46:15.251Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:46:15.251Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: BUSY"}}
[debug] [2020-09-26T21:46:15.255Z] [runtime-status] [1796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:46:15.255Z] [runtime-status] [1796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:46:15.255Z] [runtime-status] [1796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:46:15.255Z] [runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1796.sock"}}
[debug] [2020-09-26T21:46:15.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:46:15.266Z] [runtime-status] [1796] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3997.9999999999995 {"user":"Payment Request got! YEET! >>>  3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3997.9999999999995"}}
[debug] [2020-09-26T21:46:15.285Z] [runtime-status] [1796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1796] Ephemeral server survived."}}
[info] >  (node:1796) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995 {"user":"(node:1796) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1796) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T21:47:15.297Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: exited"}}
[debug] [2020-09-26T21:47:15.297Z] [worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4d4c45c4-d9bb-4f4a-b83c-933895865e3e]: FINISHED"}}
[debug] [2020-09-26T21:47:15.297Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T21:49:20.604Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:49:20.605Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:49:20.606Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T21:49:20.606Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T21:49:20.611Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T21:49:20.612Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T21:49:20.612Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:49:20.612Z] [worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1843.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1843.sock"}}
[debug] [2020-09-26T21:49:20.612Z] [worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: BUSY"}}
[debug] [2020-09-26T21:49:21.463Z] [runtime-status] [1843] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T21:49:21.470Z] [runtime-status] [1843] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Disabled runtime features: undefined"}}
[debug] [2020-09-26T21:49:21.490Z] [runtime-status] [1843] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.496Z] [runtime-status] [1843] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.497Z] [runtime-status] [1843] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.499Z] [runtime-status] [1843] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T21:49:21.500Z] [runtime-status] [1843] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.631Z] [runtime-status] [1843] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T21:49:21.632Z] [runtime-status] [1843] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T21:49:21.633Z] [runtime-status] [1843] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.635Z] [runtime-status] [1843] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.635Z] [runtime-status] [1843] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:49:21.636Z] [runtime-status] [1843] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T21:49:21.890Z] [runtime-status] [1843] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:49:21.891Z] [runtime-status] [1843] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:49:21.892Z] [runtime-status] [1843] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:49:21.904Z] [runtime-status] [1843] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1843.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1843.sock"}}
[debug] [2020-09-26T21:49:21.911Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:49:21.927Z] [runtime-status] [1843] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T21:49:21.957Z] [runtime-status] [1843] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1843] Ephemeral server survived."}}
[info] >  (node:1843) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1843) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1843) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1843) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1843) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1843) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1843) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1843) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1843) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T21:50:21.924Z] [worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: exited"}}
[debug] [2020-09-26T21:50:21.924Z] [worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-323f0411-a331-4fae-807f-7794cfed0a2e]: FINISHED"}}
[debug] [2020-09-26T21:50:21.924Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T21:54:42.261Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T21:54:43.266Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T21:54:43.267Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: FINISHING"}}
[debug] [2020-09-26T21:54:43.267Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T21:54:43.276Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T21:54:43.276Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T21:54:43.276Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T21:54:43.276Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1891.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1891.sock"}}
[debug] [2020-09-26T21:54:43.276Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: BUSY"}}
[debug] [2020-09-26T21:54:43.278Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: exited"}}
[debug] [2020-09-26T21:54:43.279Z] [worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-834e151b-e6bf-4213-bf31-b4b68e920dfd]: FINISHED"}}
[debug] [2020-09-26T21:54:44.092Z] [runtime-status] [1891] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T21:54:44.094Z] [runtime-status] [1891] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Disabled runtime features: undefined"}}
[debug] [2020-09-26T21:54:44.097Z] [runtime-status] [1891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.102Z] [runtime-status] [1891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.102Z] [runtime-status] [1891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.102Z] [runtime-status] [1891] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T21:54:44.103Z] [runtime-status] [1891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.200Z] [runtime-status] [1891] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T21:54:44.201Z] [runtime-status] [1891] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T21:54:44.201Z] [runtime-status] [1891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.202Z] [runtime-status] [1891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.202Z] [runtime-status] [1891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:44.203Z] [runtime-status] [1891] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1891] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T21:54:44.469Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: IDLE"}}
[debug] [2020-09-26T21:54:52.002Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T21:54:52.002Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T21:54:52.002Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3997.9999999999995 --> api
[debug] [2020-09-26T21:54:52.002Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T21:54:52.009Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T21:54:52.010Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T21:54:52.010Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T21:54:52.010Z] [worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1901.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1901.sock"}}
[debug] [2020-09-26T21:54:52.010Z] [worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: BUSY"}}
[debug] [2020-09-26T21:54:52.718Z] [runtime-status] [1901] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T21:54:52.723Z] [runtime-status] [1901] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Disabled runtime features: undefined"}}
[debug] [2020-09-26T21:54:52.726Z] [runtime-status] [1901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.728Z] [runtime-status] [1901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.729Z] [runtime-status] [1901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.731Z] [runtime-status] [1901] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T21:54:52.732Z] [runtime-status] [1901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.842Z] [runtime-status] [1901] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T21:54:52.842Z] [runtime-status] [1901] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T21:54:52.843Z] [runtime-status] [1901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.844Z] [runtime-status] [1901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.844Z] [runtime-status] [1901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T21:54:52.844Z] [runtime-status] [1901] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T21:54:53.110Z] [runtime-status] [1901] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T21:54:53.110Z] [runtime-status] [1901] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T21:54:53.110Z] [runtime-status] [1901] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Running api in mode HTTPS"}}
[debug] [2020-09-26T21:54:53.128Z] [runtime-status] [1901] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1901.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1901.sock"}}
[debug] [2020-09-26T21:54:53.132Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T21:54:53.140Z] [runtime-status] [1901] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3997.9999999999995 {"user":"Payment Request got! YEET! >>>  3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3997.9999999999995"}}
[debug] [2020-09-26T21:54:53.158Z] [runtime-status] [1901] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1901] Ephemeral server survived."}}
[info] >  (node:1901) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995 {"user":"(node:1901) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1901) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1901) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1901) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1901) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1901) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1901) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1901) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T21:55:53.137Z] [worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: exited"}}
[debug] [2020-09-26T21:55:53.137Z] [worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e289dbdd-2f23-4c58-9130-502d7d9a5ee6]: FINISHED"}}
[debug] [2020-09-26T21:55:53.137Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:00:02.815Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:00:02.815Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:00:02.815Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:00:02.815Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T22:00:02.822Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:00:02.822Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:00:02.822Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:00:02.822Z] [worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1931.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1931.sock"}}
[debug] [2020-09-26T22:00:02.823Z] [worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: BUSY"}}
[debug] [2020-09-26T22:00:03.537Z] [runtime-status] [1931] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:00:03.541Z] [runtime-status] [1931] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:00:03.548Z] [runtime-status] [1931] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.550Z] [runtime-status] [1931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.551Z] [runtime-status] [1931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.553Z] [runtime-status] [1931] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:00:03.553Z] [runtime-status] [1931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.678Z] [runtime-status] [1931] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:00:03.682Z] [runtime-status] [1931] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:00:03.683Z] [runtime-status] [1931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.684Z] [runtime-status] [1931] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.685Z] [runtime-status] [1931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:00:03.688Z] [runtime-status] [1931] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:00:03.976Z] [runtime-status] [1931] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:00:03.977Z] [runtime-status] [1931] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:00:03.977Z] [runtime-status] [1931] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:00:03.987Z] [runtime-status] [1931] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1931.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1931.sock"}}
[debug] [2020-09-26T22:00:03.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:00:04.002Z] [runtime-status] [1931] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:00:04.034Z] [runtime-status] [1931] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1931] Ephemeral server survived."}}
[info] >  (node:1931) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1931) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1931) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1931) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1931) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1931) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1931) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1931) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1931) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:01:04.025Z] [worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: exited"}}
[debug] [2020-09-26T22:01:04.025Z] [worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2541158b-af01-44a7-b9fc-7ba6c41a234d]: FINISHED"}}
[debug] [2020-09-26T22:01:04.025Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:02:26.866Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:02:26.866Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:02:26.866Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:02:26.866Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T22:02:26.871Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:02:26.871Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:02:26.872Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:02:26.872Z] [worker-api-f12064c1-81ba-4824-be70-867415e661fd]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f12064c1-81ba-4824-be70-867415e661fd]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1947.sock"}}
[debug] [2020-09-26T22:02:26.872Z] [worker-api-f12064c1-81ba-4824-be70-867415e661fd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f12064c1-81ba-4824-be70-867415e661fd]: BUSY"}}
[debug] [2020-09-26T22:02:27.746Z] [runtime-status] [1947] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:02:27.754Z] [runtime-status] [1947] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:02:27.761Z] [runtime-status] [1947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.762Z] [runtime-status] [1947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.762Z] [runtime-status] [1947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.764Z] [runtime-status] [1947] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:02:27.767Z] [runtime-status] [1947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.846Z] [runtime-status] [1947] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:02:27.846Z] [runtime-status] [1947] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:02:27.848Z] [runtime-status] [1947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.849Z] [runtime-status] [1947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.849Z] [runtime-status] [1947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:27.850Z] [runtime-status] [1947] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:02:28.265Z] [runtime-status] [1947] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:02:28.267Z] [runtime-status] [1947] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:02:28.267Z] [runtime-status] [1947] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:02:28.278Z] [runtime-status] [1947] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1947.sock"}}
[debug] [2020-09-26T22:02:28.281Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:02:28.289Z] [runtime-status] [1947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:02:28.337Z] [runtime-status] [1947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1947] Ephemeral server survived."}}
[info] >  (node:1947) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1947) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1947) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1947) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1947) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1947) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1947) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1947) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1947) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:02:40.363Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:02:40.363Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:02:40.363Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=13938 --> api
[debug] [2020-09-26T22:02:40.373Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:02:40.374Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:02:40.374Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:02:40.374Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock"}}
[debug] [2020-09-26T22:02:40.374Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: BUSY"}}
[debug] [2020-09-26T22:02:40.784Z] [runtime-status] [1952] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:02:40.785Z] [runtime-status] [1952] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:02:40.787Z] [runtime-status] [1952] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.789Z] [runtime-status] [1952] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.790Z] [runtime-status] [1952] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.792Z] [runtime-status] [1952] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:02:40.794Z] [runtime-status] [1952] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.833Z] [runtime-status] [1952] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:02:40.833Z] [runtime-status] [1952] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:02:40.834Z] [runtime-status] [1952] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.835Z] [runtime-status] [1952] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.835Z] [runtime-status] [1952] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:02:40.835Z] [runtime-status] [1952] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:02:40.964Z] [runtime-status] [1952] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:02:40.965Z] [runtime-status] [1952] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:02:40.965Z] [runtime-status] [1952] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:02:40.984Z] [runtime-status] [1952] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock"}}
[debug] [2020-09-26T22:02:40.986Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:02:41.001Z] [runtime-status] [1952] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  13938 {"user":"Payment Request got! YEET! >>>  13938","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  13938"}}
[debug] [2020-09-26T22:02:41.052Z] [runtime-status] [1952] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T22:02:41.595Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: IDLE"}}
[debug] [2020-09-26T22:02:41.595Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:03:28.299Z] [worker-api-f12064c1-81ba-4824-be70-867415e661fd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f12064c1-81ba-4824-be70-867415e661fd]: exited"}}
[debug] [2020-09-26T22:03:28.299Z] [worker-api-f12064c1-81ba-4824-be70-867415e661fd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f12064c1-81ba-4824-be70-867415e661fd]: FINISHED"}}
[debug] [2020-09-26T22:03:28.299Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:40:08.132Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:40:08.134Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:40:08.134Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3997.9999999999995 --> api
[debug] [2020-09-26T22:40:08.135Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T22:40:08.135Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:40:08.136Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock"}}
[debug] [2020-09-26T22:40:08.136Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: BUSY"}}
[debug] [2020-09-26T22:40:08.146Z] [runtime-status] [1952] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:40:08.150Z] [runtime-status] [1952] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:40:08.150Z] [runtime-status] [1952] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:40:08.152Z] [runtime-status] [1952] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_1952.sock"}}
[debug] [2020-09-26T22:40:08.159Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:40:08.179Z] [runtime-status] [1952] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3997.9999999999995 {"user":"Payment Request got! YEET! >>>  3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3997.9999999999995"}}
[debug] [2020-09-26T22:40:08.186Z] [runtime-status] [1952] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1952] Ephemeral server survived."}}
[info] >  (node:1952) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995 {"user":"(node:1952) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1952) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3997.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1952) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1952) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1952) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1952) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1952) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1952) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:40:17.376Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:40:17.376Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:40:17.377Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2020-09-26T22:40:17.388Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:40:17.389Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:40:17.389Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:40:17.389Z] [worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2299.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2299.sock"}}
[debug] [2020-09-26T22:40:17.389Z] [worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: BUSY"}}
[debug] [2020-09-26T22:40:18.015Z] [runtime-status] [2299] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:40:18.019Z] [runtime-status] [2299] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:40:18.024Z] [runtime-status] [2299] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.024Z] [runtime-status] [2299] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.025Z] [runtime-status] [2299] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.027Z] [runtime-status] [2299] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:40:18.027Z] [runtime-status] [2299] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.117Z] [runtime-status] [2299] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:40:18.118Z] [runtime-status] [2299] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:40:18.118Z] [runtime-status] [2299] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.120Z] [runtime-status] [2299] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.121Z] [runtime-status] [2299] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:40:18.121Z] [runtime-status] [2299] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:40:18.458Z] [runtime-status] [2299] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:40:18.459Z] [runtime-status] [2299] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:40:18.459Z] [runtime-status] [2299] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:40:18.463Z] [runtime-status] [2299] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2299.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2299.sock"}}
[debug] [2020-09-26T22:40:18.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:40:18.479Z] [runtime-status] [2299] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  1998.9999999999998 {"user":"Payment Request got! YEET! >>>  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  1998.9999999999998"}}
[debug] [2020-09-26T22:40:18.489Z] [runtime-status] [2299] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2299] Ephemeral server survived."}}
[info] >  (node:2299) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998 {"user":"(node:2299) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2299) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2299) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2299) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2299) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2299) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2299) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2299) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:41:08.185Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: exited"}}
[debug] [2020-09-26T22:41:08.185Z] [worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0bb72c5c-4111-47b7-b1ad-49929822ff1c]: FINISHED"}}
[debug] [2020-09-26T22:41:08.185Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:41:18.492Z] [worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: exited"}}
[debug] [2020-09-26T22:41:18.492Z] [worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b9821833-629c-40c6-bd39-6f2d624610ce]: FINISHED"}}
[debug] [2020-09-26T22:41:18.492Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:41:52.668Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:41:52.669Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:41:52.669Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=8968 --> api
[debug] [2020-09-26T22:41:52.669Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T22:41:52.695Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:41:52.695Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:41:52.696Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:41:52.696Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock"}}
[debug] [2020-09-26T22:41:52.696Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: BUSY"}}
[debug] [2020-09-26T22:41:53.738Z] [runtime-status] [2309] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:41:53.751Z] [runtime-status] [2309] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:41:53.755Z] [runtime-status] [2309] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.763Z] [runtime-status] [2309] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.764Z] [runtime-status] [2309] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.766Z] [runtime-status] [2309] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:41:53.766Z] [runtime-status] [2309] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.892Z] [runtime-status] [2309] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:41:53.892Z] [runtime-status] [2309] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:41:53.893Z] [runtime-status] [2309] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.895Z] [runtime-status] [2309] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.897Z] [runtime-status] [2309] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:41:53.898Z] [runtime-status] [2309] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:41:54.202Z] [runtime-status] [2309] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:41:54.203Z] [runtime-status] [2309] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:41:54.203Z] [runtime-status] [2309] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:41:54.210Z] [runtime-status] [2309] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock"}}
[debug] [2020-09-26T22:41:54.211Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:41:54.222Z] [runtime-status] [2309] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  8968 {"user":"Payment Request got! YEET! >>>  8968","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  8968"}}
[debug] [2020-09-26T22:41:54.253Z] [runtime-status] [2309] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T22:41:54.855Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: IDLE"}}
[debug] [2020-09-26T22:41:54.855Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:42:01.969Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:42:01.969Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:42:01.969Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:42:01.969Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:42:01.969Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock"}}
[debug] [2020-09-26T22:42:01.969Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: BUSY"}}
[debug] [2020-09-26T22:42:01.971Z] [runtime-status] [2309] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:42:01.971Z] [runtime-status] [2309] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:42:01.972Z] [runtime-status] [2309] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:42:01.972Z] [runtime-status] [2309] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2309.sock"}}
[debug] [2020-09-26T22:42:01.976Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:42:01.986Z] [runtime-status] [2309] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Ephemeral server handling POST request"}}
[debug] [2020-09-26T22:42:01.986Z] [runtime-status] [2309] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2309] Ephemeral server survived."}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[info] >  (node:2309) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2309) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2309) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2309) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2309) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2309) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2309) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2309) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2309) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:42:21.479Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:42:21.479Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:42:21.480Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=997.0000000000001 --> api
[debug] [2020-09-26T22:42:21.496Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:42:21.496Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:42:21.496Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:42:21.497Z] [worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2312.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2312.sock"}}
[debug] [2020-09-26T22:42:21.497Z] [worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: BUSY"}}
[debug] [2020-09-26T22:42:21.991Z] [runtime-status] [2312] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:42:22.022Z] [runtime-status] [2312] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:42:22.032Z] [runtime-status] [2312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.044Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.045Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.065Z] [runtime-status] [2312] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:42:22.070Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.127Z] [runtime-status] [2312] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:42:22.127Z] [runtime-status] [2312] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:22.127Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.128Z] [runtime-status] [2312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.129Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:22.130Z] [runtime-status] [2312] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:22.328Z] [runtime-status] [2312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:42:22.328Z] [runtime-status] [2312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:42:22.329Z] [runtime-status] [2312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:42:22.354Z] [runtime-status] [2312] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2312.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2312.sock"}}
[debug] [2020-09-26T22:42:22.359Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:42:22.393Z] [runtime-status] [2312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  997.0000000000001 {"user":"Payment Request got! YEET! >>>  997.0000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  997.0000000000001"}}
[debug] [2020-09-26T22:42:22.443Z] [runtime-status] [2312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Ephemeral server survived."}}
[info] >  (node:2312) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001 {"user":"(node:2312) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2312) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:42:42.128Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T22:42:42.128Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T22:42:42.128Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:42:42.134Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:42:42.135Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T22:42:42.135Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:42:42.135Z] [worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2314.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2314.sock"}}
[debug] [2020-09-26T22:42:42.135Z] [worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: BUSY"}}
[debug] [2020-09-26T22:42:42.376Z] [runtime-status] [2314] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:42:42.382Z] [runtime-status] [2314] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:42:42.382Z] [runtime-status] [2314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.382Z] [runtime-status] [2314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.382Z] [runtime-status] [2314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.383Z] [runtime-status] [2314] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:42:42.384Z] [runtime-status] [2314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.411Z] [runtime-status] [2314] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:42:42.412Z] [runtime-status] [2314] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:42.412Z] [runtime-status] [2314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.413Z] [runtime-status] [2314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.413Z] [runtime-status] [2314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:42.414Z] [runtime-status] [2314] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:42.492Z] [runtime-status] [2314] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:42:42.494Z] [runtime-status] [2314] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:42:42.494Z] [runtime-status] [2314] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:42:42.498Z] [runtime-status] [2314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2314.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2314.sock"}}
[debug] [2020-09-26T22:42:42.498Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:42:42.510Z] [runtime-status] [2314] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:42:42.525Z] [runtime-status] [2314] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2314] Ephemeral server survived."}}
[info] >  (node:2314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:42:52.193Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2020-09-26T22:42:52.194Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2020-09-26T22:42:52.195Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3600000 --> api
[debug] [2020-09-26T22:42:52.210Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:42:52.210Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-09-26T22:42:52.211Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:42:52.211Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock"}}
[debug] [2020-09-26T22:42:52.211Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: BUSY"}}
[debug] [2020-09-26T22:42:52.675Z] [runtime-status] [2316] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:42:52.680Z] [runtime-status] [2316] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:42:52.684Z] [runtime-status] [2316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.690Z] [runtime-status] [2316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.691Z] [runtime-status] [2316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.692Z] [runtime-status] [2316] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:42:52.693Z] [runtime-status] [2316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.774Z] [runtime-status] [2316] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:42:52.775Z] [runtime-status] [2316] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:52.775Z] [runtime-status] [2316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.776Z] [runtime-status] [2316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.776Z] [runtime-status] [2316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:42:52.777Z] [runtime-status] [2316] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:42:53.033Z] [runtime-status] [2316] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:42:53.034Z] [runtime-status] [2316] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:42:53.034Z] [runtime-status] [2316] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:42:53.068Z] [runtime-status] [2316] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock"}}
[debug] [2020-09-26T22:42:53.073Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:42:53.090Z] [runtime-status] [2316] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3600000 {"user":"Payment Request got! YEET! >>>  3600000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3600000"}}
[debug] [2020-09-26T22:42:53.129Z] [runtime-status] [2316] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T22:42:53.668Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: IDLE"}}
[debug] [2020-09-26T22:42:53.668Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T22:43:00.445Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2020-09-26T22:43:00.445Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2020-09-26T22:43:00.445Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:43:00.445Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:43:00.445Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock"}}
[debug] [2020-09-26T22:43:00.445Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: BUSY"}}
[debug] [2020-09-26T22:43:00.450Z] [runtime-status] [2316] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:43:00.451Z] [runtime-status] [2316] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:43:00.451Z] [runtime-status] [2316] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:43:00.456Z] [runtime-status] [2316] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2316.sock"}}
[debug] [2020-09-26T22:43:00.458Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:43:00.470Z] [runtime-status] [2316] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Ephemeral server handling POST request"}}
[debug] [2020-09-26T22:43:00.470Z] [runtime-status] [2316] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2316] Ephemeral server survived."}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[info] >  (node:2316) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2316) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2316) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2316) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2316) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2316) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2316) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2316) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2316) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:43:02.005Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: exited"}}
[debug] [2020-09-26T22:43:02.005Z] [worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e7c96da-bd4d-41c7-b23b-cd0905bf3e5f]: FINISHED"}}
[debug] [2020-09-26T22:43:02.005Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T22:43:11.226Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2020-09-26T22:43:11.226Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2020-09-26T22:43:11.226Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=7990.000000000001 --> api
[debug] [2020-09-26T22:43:11.226Z] [worker-pool] Cleaned up workers for api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 3"}}
[debug] [2020-09-26T22:43:11.249Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:43:11.250Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-09-26T22:43:11.250Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:43:11.250Z] [worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2318.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2318.sock"}}
[debug] [2020-09-26T22:43:11.250Z] [worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: BUSY"}}
[debug] [2020-09-26T22:43:12.148Z] [runtime-status] [2318] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:43:12.152Z] [runtime-status] [2318] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:43:12.156Z] [runtime-status] [2318] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.159Z] [runtime-status] [2318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.160Z] [runtime-status] [2318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.167Z] [runtime-status] [2318] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:43:12.169Z] [runtime-status] [2318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.286Z] [runtime-status] [2318] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:43:12.286Z] [runtime-status] [2318] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:43:12.287Z] [runtime-status] [2318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.288Z] [runtime-status] [2318] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.288Z] [runtime-status] [2318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:43:12.289Z] [runtime-status] [2318] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:43:12.624Z] [runtime-status] [2318] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:43:12.625Z] [runtime-status] [2318] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:43:12.625Z] [runtime-status] [2318] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:43:12.630Z] [runtime-status] [2318] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2318.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2318.sock"}}
[debug] [2020-09-26T22:43:12.631Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:43:12.645Z] [runtime-status] [2318] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  7990.000000000001 {"user":"Payment Request got! YEET! >>>  7990.000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  7990.000000000001"}}
[debug] [2020-09-26T22:43:12.671Z] [runtime-status] [2318] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2318] Ephemeral server survived."}}
[info] >  (node:2318) UnhandledPromiseRejectionWarning: Error: Invalid integer: 7990.000000000001 {"user":"(node:2318) UnhandledPromiseRejectionWarning: Error: Invalid integer: 7990.000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2318) UnhandledPromiseRejectionWarning: Error: Invalid integer: 7990.000000000001"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2318) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2318) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2318) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2318) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2318) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2318) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:43:22.402Z] [worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: exited"}}
[debug] [2020-09-26T22:43:22.402Z] [worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-445f57b3-e875-4b51-b53f-3f57576a6356]: FINISHED"}}
[debug] [2020-09-26T22:43:22.402Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:43:42.516Z] [worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: exited"}}
[debug] [2020-09-26T22:43:42.517Z] [worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44bbbc8c-8ca0-421b-ac0d-5c6fc72fc6c9]: FINISHED"}}
[debug] [2020-09-26T22:43:42.517Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:44:00.475Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: exited"}}
[debug] [2020-09-26T22:44:00.475Z] [worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f05d72-30b3-4808-a310-6cbab59553fe]: FINISHED"}}
[debug] [2020-09-26T22:44:00.475Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:44:12.650Z] [worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: exited"}}
[debug] [2020-09-26T22:44:12.650Z] [worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d32097b5-84ba-4ab8-8dc3-dff595d02800]: FINISHED"}}
[debug] [2020-09-26T22:44:12.650Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:46:13.558Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:46:13.558Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:46:13.558Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:46:13.558Z] [worker-pool] Cleaned up workers for api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 0"}}
[debug] [2020-09-26T22:46:13.565Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:46:13.565Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:46:13.565Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:46:13.565Z] [worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2350.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2350.sock"}}
[debug] [2020-09-26T22:46:13.565Z] [worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: BUSY"}}
[debug] [2020-09-26T22:46:14.856Z] [runtime-status] [2350] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:46:14.861Z] [runtime-status] [2350] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:46:14.886Z] [runtime-status] [2350] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:14.899Z] [runtime-status] [2350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:14.901Z] [runtime-status] [2350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:14.903Z] [runtime-status] [2350] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:46:14.905Z] [runtime-status] [2350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:15.125Z] [runtime-status] [2350] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:46:15.125Z] [runtime-status] [2350] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:46:15.126Z] [runtime-status] [2350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:15.127Z] [runtime-status] [2350] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:15.128Z] [runtime-status] [2350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:15.129Z] [runtime-status] [2350] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:46:15.727Z] [runtime-status] [2350] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:46:15.727Z] [runtime-status] [2350] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:46:15.728Z] [runtime-status] [2350] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:46:15.748Z] [runtime-status] [2350] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2350.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2350.sock"}}
[debug] [2020-09-26T22:46:15.756Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:46:15.774Z] [runtime-status] [2350] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:46:15.823Z] [runtime-status] [2350] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2350] Ephemeral server survived."}}
[info] >  (node:2350) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2350) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2350) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2350) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2350) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2350) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2350) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2350) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2350) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:46:19.204Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:46:19.205Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:46:19.205Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3995.0000000000005 --> api
[debug] [2020-09-26T22:46:19.213Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:46:19.213Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:46:19.213Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:46:19.213Z] [worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2353.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2353.sock"}}
[debug] [2020-09-26T22:46:19.213Z] [worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: BUSY"}}
[debug] [2020-09-26T22:46:19.862Z] [runtime-status] [2353] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:46:19.866Z] [runtime-status] [2353] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:46:19.869Z] [runtime-status] [2353] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.870Z] [runtime-status] [2353] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.872Z] [runtime-status] [2353] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.878Z] [runtime-status] [2353] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:46:19.879Z] [runtime-status] [2353] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.928Z] [runtime-status] [2353] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:46:19.929Z] [runtime-status] [2353] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:46:19.930Z] [runtime-status] [2353] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.931Z] [runtime-status] [2353] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.931Z] [runtime-status] [2353] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:46:19.931Z] [runtime-status] [2353] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:46:20.070Z] [runtime-status] [2353] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:46:20.090Z] [runtime-status] [2353] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:46:20.091Z] [runtime-status] [2353] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:46:20.094Z] [runtime-status] [2353] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2353.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2353.sock"}}
[debug] [2020-09-26T22:46:20.097Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:46:20.116Z] [runtime-status] [2353] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3995.0000000000005 {"user":"Payment Request got! YEET! >>>  3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3995.0000000000005"}}
[debug] [2020-09-26T22:46:20.153Z] [runtime-status] [2353] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2353] Ephemeral server survived."}}
[info] >  (node:2353) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005 {"user":"(node:2353) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2353) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2353) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2353) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2353) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2353) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2353) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2353) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:47:15.759Z] [worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: exited"}}
[debug] [2020-09-26T22:47:15.759Z] [worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2676d28f-2546-46d0-b2e6-e7df2c831789]: FINISHED"}}
[debug] [2020-09-26T22:47:15.759Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:47:20.135Z] [worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: exited"}}
[debug] [2020-09-26T22:47:20.135Z] [worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8c8b8c32-1943-4059-868f-cf4039d94a55]: FINISHED"}}
[debug] [2020-09-26T22:47:20.135Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:48:43.214Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:48:43.214Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:48:43.214Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:48:43.214Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T22:48:43.220Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:48:43.220Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:48:43.220Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:48:43.221Z] [worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2459.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2459.sock"}}
[debug] [2020-09-26T22:48:43.221Z] [worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: BUSY"}}
[debug] [2020-09-26T22:48:44.383Z] [runtime-status] [2459] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:48:44.401Z] [runtime-status] [2459] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:48:44.413Z] [runtime-status] [2459] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.415Z] [runtime-status] [2459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.416Z] [runtime-status] [2459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.419Z] [runtime-status] [2459] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:48:44.420Z] [runtime-status] [2459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.613Z] [runtime-status] [2459] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:48:44.614Z] [runtime-status] [2459] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:48:44.618Z] [runtime-status] [2459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.627Z] [runtime-status] [2459] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.630Z] [runtime-status] [2459] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:48:44.630Z] [runtime-status] [2459] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:48:45.292Z] [runtime-status] [2459] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:48:45.297Z] [runtime-status] [2459] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:48:45.297Z] [runtime-status] [2459] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:48:45.301Z] [runtime-status] [2459] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2459.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2459.sock"}}
[debug] [2020-09-26T22:48:45.615Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:48:45.625Z] [runtime-status] [2459] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:48:45.642Z] [runtime-status] [2459] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2459] Ephemeral server survived."}}
[info] >  (node:2459) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2459) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2459) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2459) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2459) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2459) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2459) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2459) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2459) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:49:27.911Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:49:27.912Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:49:27.912Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2020-09-26T22:49:27.922Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:49:27.924Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:49:27.924Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:49:27.924Z] [worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2466.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2466.sock"}}
[debug] [2020-09-26T22:49:27.924Z] [worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: BUSY"}}
[debug] [2020-09-26T22:49:28.434Z] [runtime-status] [2466] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:49:28.437Z] [runtime-status] [2466] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:49:28.462Z] [runtime-status] [2466] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.465Z] [runtime-status] [2466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.466Z] [runtime-status] [2466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.469Z] [runtime-status] [2466] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:49:28.470Z] [runtime-status] [2466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.534Z] [runtime-status] [2466] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:49:28.535Z] [runtime-status] [2466] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:49:28.535Z] [runtime-status] [2466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.536Z] [runtime-status] [2466] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.543Z] [runtime-status] [2466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:49:28.543Z] [runtime-status] [2466] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:49:28.660Z] [runtime-status] [2466] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:49:28.661Z] [runtime-status] [2466] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:49:28.661Z] [runtime-status] [2466] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:49:28.666Z] [runtime-status] [2466] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2466.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2466.sock"}}
[debug] [2020-09-26T22:49:28.677Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:49:28.686Z] [runtime-status] [2466] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  1998.9999999999998 {"user":"Payment Request got! YEET! >>>  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  1998.9999999999998"}}
[debug] [2020-09-26T22:49:28.719Z] [runtime-status] [2466] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2466] Ephemeral server survived."}}
[info] >  (node:2466) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998 {"user":"(node:2466) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2466) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2466) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2466) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2466) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2466) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2466) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2466) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:49:45.326Z] [worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: exited"}}
[debug] [2020-09-26T22:49:45.326Z] [worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eee32344-d1dc-4512-ab38-749c3a8516e6]: FINISHED"}}
[debug] [2020-09-26T22:49:45.326Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:50:24.554Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:50:24.554Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:50:24.554Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=8968 --> api
[debug] [2020-09-26T22:50:24.554Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T22:50:24.569Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:50:24.570Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:50:24.570Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:50:24.570Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock"}}
[debug] [2020-09-26T22:50:24.570Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: BUSY"}}
[debug] [2020-09-26T22:50:25.108Z] [runtime-status] [2473] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:50:25.115Z] [runtime-status] [2473] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:50:25.118Z] [runtime-status] [2473] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.121Z] [runtime-status] [2473] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.121Z] [runtime-status] [2473] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.134Z] [runtime-status] [2473] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:50:25.134Z] [runtime-status] [2473] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.171Z] [runtime-status] [2473] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:50:25.172Z] [runtime-status] [2473] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:50:25.172Z] [runtime-status] [2473] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.173Z] [runtime-status] [2473] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.173Z] [runtime-status] [2473] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:25.174Z] [runtime-status] [2473] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:50:25.314Z] [runtime-status] [2473] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:50:25.322Z] [runtime-status] [2473] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:50:25.323Z] [runtime-status] [2473] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:50:25.334Z] [runtime-status] [2473] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock"}}
[debug] [2020-09-26T22:50:25.337Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:50:25.348Z] [runtime-status] [2473] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  8968 {"user":"Payment Request got! YEET! >>>  8968","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  8968"}}
[debug] [2020-09-26T22:50:25.382Z] [runtime-status] [2473] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T22:50:25.952Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: IDLE"}}
[debug] [2020-09-26T22:50:25.952Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:50:28.690Z] [worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: exited"}}
[debug] [2020-09-26T22:50:28.690Z] [worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-76319113-7644-4468-ba78-66bc99da0e5d]: FINISHED"}}
[debug] [2020-09-26T22:50:28.690Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:50:37.140Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:50:37.140Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:50:37.141Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:50:37.141Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T22:50:37.141Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:50:37.141Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock"}}
[debug] [2020-09-26T22:50:37.141Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: BUSY"}}
[debug] [2020-09-26T22:50:37.143Z] [runtime-status] [2473] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:50:37.144Z] [runtime-status] [2473] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:50:37.144Z] [runtime-status] [2473] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:50:37.144Z] [runtime-status] [2473] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2473.sock"}}
[debug] [2020-09-26T22:50:37.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:50:37.152Z] [runtime-status] [2473] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Ephemeral server handling POST request"}}
[debug] [2020-09-26T22:50:37.153Z] [runtime-status] [2473] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2473] Ephemeral server survived."}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[info] >  (node:2473) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2473) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2473) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2473) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2473) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2473) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2473) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2473) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2473) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:50:47.340Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:50:47.341Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:50:47.341Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=18000000 --> api
[debug] [2020-09-26T22:50:47.352Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:50:47.352Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:50:47.353Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:50:47.353Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock"}}
[debug] [2020-09-26T22:50:47.353Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: BUSY"}}
[debug] [2020-09-26T22:50:48.259Z] [runtime-status] [2482] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:50:48.263Z] [runtime-status] [2482] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:50:48.274Z] [runtime-status] [2482] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.279Z] [runtime-status] [2482] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.279Z] [runtime-status] [2482] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.281Z] [runtime-status] [2482] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:50:48.281Z] [runtime-status] [2482] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.386Z] [runtime-status] [2482] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:50:48.387Z] [runtime-status] [2482] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:50:48.387Z] [runtime-status] [2482] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.388Z] [runtime-status] [2482] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.389Z] [runtime-status] [2482] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:50:48.389Z] [runtime-status] [2482] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:50:48.679Z] [runtime-status] [2482] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:50:48.679Z] [runtime-status] [2482] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:50:48.679Z] [runtime-status] [2482] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:50:48.684Z] [runtime-status] [2482] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock"}}
[debug] [2020-09-26T22:50:48.684Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:50:48.695Z] [runtime-status] [2482] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  18000000 {"user":"Payment Request got! YEET! >>>  18000000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  18000000"}}
[debug] [2020-09-26T22:50:48.709Z] [runtime-status] [2482] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T22:50:49.504Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: IDLE"}}
[debug] [2020-09-26T22:50:49.504Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:51:00.723Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:51:00.723Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:51:00.723Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:51:00.723Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:51:00.723Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock"}}
[debug] [2020-09-26T22:51:00.723Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: BUSY"}}
[debug] [2020-09-26T22:51:00.726Z] [runtime-status] [2482] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:51:00.727Z] [runtime-status] [2482] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:51:00.727Z] [runtime-status] [2482] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:51:00.727Z] [runtime-status] [2482] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2482.sock"}}
[debug] [2020-09-26T22:51:00.729Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:51:00.737Z] [runtime-status] [2482] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Ephemeral server handling POST request"}}
[debug] [2020-09-26T22:51:00.737Z] [runtime-status] [2482] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2482] Ephemeral server survived."}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[info] >  (node:2482) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2482) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2482) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2482) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2482) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2482) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2482) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2482) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2482) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:51:09.654Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T22:51:09.654Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T22:51:09.654Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=997.0000000000001 --> api
[debug] [2020-09-26T22:51:09.669Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:51:09.669Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T22:51:09.669Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:51:09.669Z] [worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2486.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2486.sock"}}
[debug] [2020-09-26T22:51:09.669Z] [worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: BUSY"}}
[debug] [2020-09-26T22:51:10.577Z] [runtime-status] [2486] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:51:10.579Z] [runtime-status] [2486] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:51:10.583Z] [runtime-status] [2486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.583Z] [runtime-status] [2486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.586Z] [runtime-status] [2486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.586Z] [runtime-status] [2486] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:51:10.586Z] [runtime-status] [2486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.661Z] [runtime-status] [2486] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:51:10.661Z] [runtime-status] [2486] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:51:10.661Z] [runtime-status] [2486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.662Z] [runtime-status] [2486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.662Z] [runtime-status] [2486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:51:10.663Z] [runtime-status] [2486] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:51:10.984Z] [runtime-status] [2486] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:51:10.985Z] [runtime-status] [2486] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:51:10.986Z] [runtime-status] [2486] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:51:10.995Z] [runtime-status] [2486] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2486.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2486.sock"}}
[debug] [2020-09-26T22:51:10.998Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:51:11.007Z] [runtime-status] [2486] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  997.0000000000001 {"user":"Payment Request got! YEET! >>>  997.0000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  997.0000000000001"}}
[debug] [2020-09-26T22:51:11.024Z] [runtime-status] [2486] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2486] Ephemeral server survived."}}
[info] >  (node:2486) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001 {"user":"(node:2486) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2486) UnhandledPromiseRejectionWarning: Error: Invalid integer: 997.0000000000001"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:51:37.158Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: exited"}}
[debug] [2020-09-26T22:51:37.158Z] [worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65908f5-f4dd-4241-bbce-cd1d180564ba]: FINISHED"}}
[debug] [2020-09-26T22:51:37.158Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:52:00.745Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: exited"}}
[debug] [2020-09-26T22:52:00.745Z] [worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-25b7bec9-6ac5-430b-a7a7-1b566cb4285a]: FINISHED"}}
[debug] [2020-09-26T22:52:00.745Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:52:11.013Z] [worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: exited"}}
[debug] [2020-09-26T22:52:11.013Z] [worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8eb76d65-12b2-4a9a-ba67-caea1f171b76]: FINISHED"}}
[debug] [2020-09-26T22:52:11.013Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T22:55:19.788Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T22:55:19.788Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T22:55:19.788Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T22:55:19.789Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-09-26T22:55:19.796Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:55:19.796Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T22:55:19.797Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:55:19.797Z] [worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2516.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2516.sock"}}
[debug] [2020-09-26T22:55:19.797Z] [worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: BUSY"}}
[debug] [2020-09-26T22:55:20.580Z] [runtime-status] [2516] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:55:20.583Z] [runtime-status] [2516] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:55:20.601Z] [runtime-status] [2516] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.603Z] [runtime-status] [2516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.603Z] [runtime-status] [2516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.605Z] [runtime-status] [2516] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:55:20.606Z] [runtime-status] [2516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.804Z] [runtime-status] [2516] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:55:20.804Z] [runtime-status] [2516] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:55:20.805Z] [runtime-status] [2516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.807Z] [runtime-status] [2516] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.813Z] [runtime-status] [2516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:20.813Z] [runtime-status] [2516] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:55:21.244Z] [runtime-status] [2516] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:55:21.244Z] [runtime-status] [2516] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:55:21.244Z] [runtime-status] [2516] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:55:21.248Z] [runtime-status] [2516] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2516.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2516.sock"}}
[debug] [2020-09-26T22:55:21.252Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:55:21.264Z] [runtime-status] [2516] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T22:55:21.287Z] [runtime-status] [2516] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2516] Ephemeral server survived."}}
[info] >  (node:2516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T22:55:58.652Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T22:55:58.652Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T22:55:58.652Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3995.0000000000005 --> api
[debug] [2020-09-26T22:55:58.658Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T22:55:58.658Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T22:55:58.658Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T22:55:58.659Z] [worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2528.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2528.sock"}}
[debug] [2020-09-26T22:55:58.659Z] [worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: BUSY"}}
[debug] [2020-09-26T22:55:59.615Z] [runtime-status] [2528] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T22:55:59.619Z] [runtime-status] [2528] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Disabled runtime features: undefined"}}
[debug] [2020-09-26T22:55:59.628Z] [runtime-status] [2528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.634Z] [runtime-status] [2528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.635Z] [runtime-status] [2528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.636Z] [runtime-status] [2528] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T22:55:59.637Z] [runtime-status] [2528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.720Z] [runtime-status] [2528] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T22:55:59.721Z] [runtime-status] [2528] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T22:55:59.721Z] [runtime-status] [2528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.722Z] [runtime-status] [2528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.724Z] [runtime-status] [2528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T22:55:59.724Z] [runtime-status] [2528] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T22:56:00.106Z] [runtime-status] [2528] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T22:56:00.107Z] [runtime-status] [2528] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T22:56:00.107Z] [runtime-status] [2528] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Running api in mode HTTPS"}}
[debug] [2020-09-26T22:56:00.121Z] [runtime-status] [2528] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2528.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2528.sock"}}
[debug] [2020-09-26T22:56:00.125Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T22:56:00.137Z] [runtime-status] [2528] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  3995.0000000000005 {"user":"Payment Request got! YEET! >>>  3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  3995.0000000000005"}}
[debug] [2020-09-26T22:56:00.158Z] [runtime-status] [2528] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2528] Ephemeral server survived."}}
[info] >  (node:2528) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005 {"user":"(node:2528) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2528) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:56:21.262Z] [worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: exited"}}
[debug] [2020-09-26T22:56:21.262Z] [worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-565de4f2-2032-4ad4-aecc-ae3a630d49bb]: FINISHED"}}
[debug] [2020-09-26T22:56:21.262Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T22:57:00.136Z] [worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: exited"}}
[debug] [2020-09-26T22:57:00.136Z] [worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5a0af47-ee55-4f7e-b19b-0389e356fea3]: FINISHED"}}
[debug] [2020-09-26T22:57:00.139Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:02:05.065Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:02:05.065Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:02:05.065Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:02:05.065Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T23:02:05.077Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:02:05.077Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T23:02:05.077Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:02:05.077Z] [worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2565.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2565.sock"}}
[debug] [2020-09-26T23:02:05.077Z] [worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: BUSY"}}
[debug] [2020-09-26T23:02:05.822Z] [runtime-status] [2565] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:02:05.823Z] [runtime-status] [2565] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:02:05.828Z] [runtime-status] [2565] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.829Z] [runtime-status] [2565] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.833Z] [runtime-status] [2565] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.835Z] [runtime-status] [2565] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:02:05.835Z] [runtime-status] [2565] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.940Z] [runtime-status] [2565] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:02:05.940Z] [runtime-status] [2565] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:02:05.940Z] [runtime-status] [2565] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.941Z] [runtime-status] [2565] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.941Z] [runtime-status] [2565] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:02:05.941Z] [runtime-status] [2565] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:02:06.237Z] [runtime-status] [2565] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:02:06.239Z] [runtime-status] [2565] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:02:06.239Z] [runtime-status] [2565] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:02:06.242Z] [runtime-status] [2565] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2565.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2565.sock"}}
[debug] [2020-09-26T23:02:06.243Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:02:06.263Z] [runtime-status] [2565] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T23:02:06.275Z] [runtime-status] [2565] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2565] Ephemeral server survived."}}
[info] >  (node:2565) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2565) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2565) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2565) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2565) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2565) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2565) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2565) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2565) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:03:06.261Z] [worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: exited"}}
[debug] [2020-09-26T23:03:06.261Z] [worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a4a7e201-37fa-49b9-8f30-03827f410ad0]: FINISHED"}}
[debug] [2020-09-26T23:03:06.261Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:04:28.436Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:04:28.436Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:04:28.436Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2020-09-26T23:04:28.436Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-26T23:04:28.455Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:04:28.455Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T23:04:28.455Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:04:28.455Z] [worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2602.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2602.sock"}}
[debug] [2020-09-26T23:04:28.455Z] [worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: BUSY"}}
[debug] [2020-09-26T23:04:29.326Z] [runtime-status] [2602] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:04:29.328Z] [runtime-status] [2602] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:04:29.332Z] [runtime-status] [2602] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.336Z] [runtime-status] [2602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.337Z] [runtime-status] [2602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.339Z] [runtime-status] [2602] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:04:29.339Z] [runtime-status] [2602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.409Z] [runtime-status] [2602] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:04:29.412Z] [runtime-status] [2602] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:04:29.412Z] [runtime-status] [2602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.412Z] [runtime-status] [2602] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.412Z] [runtime-status] [2602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:04:29.412Z] [runtime-status] [2602] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:04:29.652Z] [runtime-status] [2602] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:04:29.653Z] [runtime-status] [2602] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:04:29.654Z] [runtime-status] [2602] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:04:29.658Z] [runtime-status] [2602] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2602.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2602.sock"}}
[debug] [2020-09-26T23:04:29.659Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:04:29.673Z] [runtime-status] [2602] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  1998.9999999999998 {"user":"Payment Request got! YEET! >>>  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  1998.9999999999998"}}
[debug] [2020-09-26T23:04:29.688Z] [runtime-status] [2602] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2602] Ephemeral server survived."}}
[info] >  (node:2602) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998 {"user":"(node:2602) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2602) UnhandledPromiseRejectionWarning: Error: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2602) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2602) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2602) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2602) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2602) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2602) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:05:07.759Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:05:07.759Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:05:07.759Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:05:07.765Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:05:07.765Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:05:07.765Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:05:07.766Z] [worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2614.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2614.sock"}}
[debug] [2020-09-26T23:05:07.766Z] [worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: BUSY"}}
[debug] [2020-09-26T23:05:08.825Z] [runtime-status] [2614] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:05:08.835Z] [runtime-status] [2614] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:05:08.841Z] [runtime-status] [2614] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.843Z] [runtime-status] [2614] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.843Z] [runtime-status] [2614] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.848Z] [runtime-status] [2614] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:05:08.849Z] [runtime-status] [2614] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.958Z] [runtime-status] [2614] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:05:08.958Z] [runtime-status] [2614] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:05:08.959Z] [runtime-status] [2614] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.960Z] [runtime-status] [2614] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.960Z] [runtime-status] [2614] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:05:08.961Z] [runtime-status] [2614] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:05:09.422Z] [runtime-status] [2614] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:05:09.422Z] [runtime-status] [2614] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:05:09.423Z] [runtime-status] [2614] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:05:09.427Z] [runtime-status] [2614] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2614.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2614.sock"}}
[debug] [2020-09-26T23:05:09.440Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:05:09.456Z] [runtime-status] [2614] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T23:05:09.515Z] [runtime-status] [2614] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2614] Ephemeral server survived."}}
[info] >  (node:2614) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2614) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2614) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2614) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2614) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2614) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2614) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2614) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2614) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:05:29.705Z] [worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: exited"}}
[debug] [2020-09-26T23:05:29.705Z] [worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92905bc2-0231-4dd4-b761-f8dd61abe2ec]: FINISHED"}}
[debug] [2020-09-26T23:05:29.705Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:06:05.291Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:06:05.292Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:06:05.292Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:06:05.292Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:06:05.298Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:06:05.298Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:06:05.298Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:06:05.298Z] [worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2635.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2635.sock"}}
[debug] [2020-09-26T23:06:05.298Z] [worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: BUSY"}}
[debug] [2020-09-26T23:06:06.163Z] [runtime-status] [2635] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:06:06.169Z] [runtime-status] [2635] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:06:06.182Z] [runtime-status] [2635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.187Z] [runtime-status] [2635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.187Z] [runtime-status] [2635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.189Z] [runtime-status] [2635] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:06:06.190Z] [runtime-status] [2635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.562Z] [runtime-status] [2635] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:06:06.563Z] [runtime-status] [2635] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:06:06.564Z] [runtime-status] [2635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.564Z] [runtime-status] [2635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.565Z] [runtime-status] [2635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:06:06.565Z] [runtime-status] [2635] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:06:07.056Z] [runtime-status] [2635] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:06:07.057Z] [runtime-status] [2635] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:06:07.057Z] [runtime-status] [2635] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:06:07.087Z] [runtime-status] [2635] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2635.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2635.sock"}}
[debug] [2020-09-26T23:06:07.092Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:06:07.128Z] [runtime-status] [2635] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Ephemeral server handling POST request"}}
[info] >  Payment Request got! YEET! >>>  0 {"user":"Payment Request got! YEET! >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request got! YEET! >>>  0"}}
[debug] [2020-09-26T23:06:07.174Z] [runtime-status] [2635] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2635] Ephemeral server survived."}}
[info] >  (node:2635) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2635) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2635) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2635) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2635) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2635) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2635) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2635) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2635) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:06:09.442Z] [worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: exited"}}
[debug] [2020-09-26T23:06:09.442Z] [worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e71adc1a-733b-48ed-ad76-4f9cf02a01ff]: FINISHED"}}
[debug] [2020-09-26T23:06:09.442Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:07:07.107Z] [worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: exited"}}
[debug] [2020-09-26T23:07:07.107Z] [worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68ed98c3-62a1-4c9e-b704-3b7bc71c01f6]: FINISHED"}}
[debug] [2020-09-26T23:07:07.107Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:08:24.558Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T23:08:25.560Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T23:08:25.560Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: FINISHING"}}
[debug] [2020-09-26T23:08:25.561Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T23:08:25.569Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T23:08:25.569Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T23:08:25.569Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T23:08:25.569Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2656.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2656.sock"}}
[debug] [2020-09-26T23:08:25.569Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: BUSY"}}
[debug] [2020-09-26T23:08:25.571Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: exited"}}
[debug] [2020-09-26T23:08:25.571Z] [worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce3a6c54-edbb-4419-a0e8-d6bec3275281]: FINISHED"}}
[debug] [2020-09-26T23:08:26.171Z] [runtime-status] [2656] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:08:26.173Z] [runtime-status] [2656] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:08:26.178Z] [runtime-status] [2656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.181Z] [runtime-status] [2656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.181Z] [runtime-status] [2656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.181Z] [runtime-status] [2656] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:08:26.182Z] [runtime-status] [2656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.330Z] [runtime-status] [2656] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:08:26.332Z] [runtime-status] [2656] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:26.333Z] [runtime-status] [2656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.334Z] [runtime-status] [2656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.334Z] [runtime-status] [2656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:26.335Z] [runtime-status] [2656] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2656] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:26.591Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: IDLE"}}
[debug] [2020-09-26T23:08:27.684Z] File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-26T23:08:28.688Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-26T23:08:28.688Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: FINISHING"}}
[debug] [2020-09-26T23:08:28.688Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T23:08:28.694Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-26T23:08:28.694Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-26T23:08:28.694Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-26T23:08:28.695Z] [worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2659.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2659.sock"}}
[debug] [2020-09-26T23:08:28.695Z] [worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: BUSY"}}
[debug] [2020-09-26T23:08:28.696Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: exited"}}
[debug] [2020-09-26T23:08:28.696Z] [worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a0cb6618-4fd6-4e89-9ad8-5b229fc002f2]: FINISHED"}}
[debug] [2020-09-26T23:08:28.964Z] [runtime-status] [2659] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:08:28.968Z] [runtime-status] [2659] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:08:28.970Z] [runtime-status] [2659] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:28.974Z] [runtime-status] [2659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:28.975Z] [runtime-status] [2659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:28.975Z] [runtime-status] [2659] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:08:28.975Z] [runtime-status] [2659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:29.008Z] [runtime-status] [2659] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:08:29.008Z] [runtime-status] [2659] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:29.016Z] [runtime-status] [2659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:29.016Z] [runtime-status] [2659] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:29.017Z] [runtime-status] [2659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:29.017Z] [runtime-status] [2659] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2659] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:29.103Z] [worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a315160f-e0be-4656-8dd2-b52564500d52]: IDLE"}}
[debug] [2020-09-26T23:08:47.806Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:08:47.806Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:08:47.806Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=6969 --> api
[debug] [2020-09-26T23:08:47.807Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-26T23:08:47.829Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:08:47.829Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T23:08:47.829Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:08:47.830Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock"}}
[debug] [2020-09-26T23:08:47.830Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: BUSY"}}
[debug] [2020-09-26T23:08:49.101Z] [runtime-status] [2664] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:08:49.110Z] [runtime-status] [2664] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:08:49.119Z] [runtime-status] [2664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.122Z] [runtime-status] [2664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.123Z] [runtime-status] [2664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.126Z] [runtime-status] [2664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:08:49.126Z] [runtime-status] [2664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.236Z] [runtime-status] [2664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:08:49.236Z] [runtime-status] [2664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:49.237Z] [runtime-status] [2664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.239Z] [runtime-status] [2664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.239Z] [runtime-status] [2664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:08:49.239Z] [runtime-status] [2664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:08:49.714Z] [runtime-status] [2664] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:08:49.715Z] [runtime-status] [2664] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:08:49.715Z] [runtime-status] [2664] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:08:49.720Z] [runtime-status] [2664] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock"}}
[debug] [2020-09-26T23:08:49.721Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:08:49.733Z] [runtime-status] [2664] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  6969 {"user":"Payment Request amount >>>  6969","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  6969"}}
[debug] [2020-09-26T23:08:49.754Z] [runtime-status] [2664] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:08:50.384Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: IDLE"}}
[debug] [2020-09-26T23:08:50.384Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:09:37.237Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:09:37.238Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:09:37.238Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:09:37.238Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:09:37.238Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock"}}
[debug] [2020-09-26T23:09:37.238Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: BUSY"}}
[debug] [2020-09-26T23:09:37.240Z] [runtime-status] [2664] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:09:37.240Z] [runtime-status] [2664] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:09:37.241Z] [runtime-status] [2664] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:09:37.241Z] [runtime-status] [2664] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2664.sock"}}
[debug] [2020-09-26T23:09:37.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:09:37.245Z] [runtime-status] [2664] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:09:37.245Z] [runtime-status] [2664] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2664] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:10:06.855Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:10:06.855Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:10:06.855Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=6969 --> api
[debug] [2020-09-26T23:10:06.871Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:10:06.871Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:10:06.871Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:10:06.871Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock"}}
[debug] [2020-09-26T23:10:06.871Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: BUSY"}}
[debug] [2020-09-26T23:10:07.729Z] [runtime-status] [2696] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:10:07.733Z] [runtime-status] [2696] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:10:07.742Z] [runtime-status] [2696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.745Z] [runtime-status] [2696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.748Z] [runtime-status] [2696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.750Z] [runtime-status] [2696] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:10:07.750Z] [runtime-status] [2696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.869Z] [runtime-status] [2696] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:10:07.870Z] [runtime-status] [2696] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:10:07.871Z] [runtime-status] [2696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.872Z] [runtime-status] [2696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.873Z] [runtime-status] [2696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:10:07.873Z] [runtime-status] [2696] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:10:08.135Z] [runtime-status] [2696] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:10:08.136Z] [runtime-status] [2696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:10:08.136Z] [runtime-status] [2696] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:10:08.142Z] [runtime-status] [2696] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock"}}
[debug] [2020-09-26T23:10:08.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:10:08.158Z] [runtime-status] [2696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  6969 {"user":"Payment Request amount >>>  6969","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  6969"}}
[debug] [2020-09-26T23:10:08.169Z] [runtime-status] [2696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:10:08.763Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: IDLE"}}
[debug] [2020-09-26T23:10:08.763Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:10:26.471Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:10:26.471Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:10:26.471Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:10:26.471Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:10:26.472Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock"}}
[debug] [2020-09-26T23:10:26.472Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: BUSY"}}
[debug] [2020-09-26T23:10:26.475Z] [runtime-status] [2696] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:10:26.475Z] [runtime-status] [2696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:10:26.476Z] [runtime-status] [2696] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:10:26.476Z] [runtime-status] [2696] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2696.sock"}}
[debug] [2020-09-26T23:10:26.476Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:10:26.481Z] [runtime-status] [2696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-26T23:10:26.481Z] [runtime-status] [2696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2696] Ephemeral server survived."}}
[info] >  (node:2696) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2696) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2696) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2696) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2696) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2696) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2696) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2696) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2696) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:10:37.261Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: exited"}}
[debug] [2020-09-26T23:10:37.261Z] [worker-api-fc705967-2309-4410-be46-ca704ffab912]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc705967-2309-4410-be46-ca704ffab912]: FINISHED"}}
[debug] [2020-09-26T23:10:37.262Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:11:26.494Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: exited"}}
[debug] [2020-09-26T23:11:26.494Z] [worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f375f72f-6ed0-4daf-a632-c0cd9a3ac893]: FINISHED"}}
[debug] [2020-09-26T23:11:26.494Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:12:14.718Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:12:14.718Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:12:14.718Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=2000 --> api
[debug] [2020-09-26T23:12:14.718Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T23:12:14.741Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:12:14.742Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T23:12:14.742Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:12:14.742Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock"}}
[debug] [2020-09-26T23:12:14.742Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: BUSY"}}
[debug] [2020-09-26T23:12:15.580Z] [runtime-status] [2719] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:12:15.591Z] [runtime-status] [2719] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:12:15.594Z] [runtime-status] [2719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.598Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.604Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.606Z] [runtime-status] [2719] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:12:15.607Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.696Z] [runtime-status] [2719] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:12:15.696Z] [runtime-status] [2719] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:12:15.696Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.697Z] [runtime-status] [2719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.698Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:12:15.698Z] [runtime-status] [2719] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:12:16.014Z] [runtime-status] [2719] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:12:16.015Z] [runtime-status] [2719] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:12:16.015Z] [runtime-status] [2719] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:12:16.019Z] [runtime-status] [2719] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock"}}
[debug] [2020-09-26T23:12:16.023Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:12:16.038Z] [runtime-status] [2719] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  2000 {"user":"Payment Request amount >>>  2000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  2000"}}
[debug] [2020-09-26T23:12:16.061Z] [runtime-status] [2719] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:12:16.631Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: IDLE"}}
[debug] [2020-09-26T23:12:16.631Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:12:27.886Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:12:27.886Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:12:27.886Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:12:27.886Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:12:27.886Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock"}}
[debug] [2020-09-26T23:12:27.886Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: BUSY"}}
[debug] [2020-09-26T23:12:27.890Z] [runtime-status] [2719] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:12:27.890Z] [runtime-status] [2719] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:12:27.890Z] [runtime-status] [2719] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:12:27.890Z] [runtime-status] [2719] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2719.sock"}}
[debug] [2020-09-26T23:12:27.891Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:12:27.898Z] [runtime-status] [2719] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:12:27.898Z] [runtime-status] [2719] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2719] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2719) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2719) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2719) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2719) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2719) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2719) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2719) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2719) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2719) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:13:15.121Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:13:15.122Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:13:15.122Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=900 --> api
[debug] [2020-09-26T23:13:15.129Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:13:15.129Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:13:15.129Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:13:15.129Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock"}}
[debug] [2020-09-26T23:13:15.129Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: BUSY"}}
[debug] [2020-09-26T23:13:16.142Z] [runtime-status] [2734] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:13:16.150Z] [runtime-status] [2734] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:13:16.159Z] [runtime-status] [2734] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.167Z] [runtime-status] [2734] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.170Z] [runtime-status] [2734] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.174Z] [runtime-status] [2734] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:13:16.174Z] [runtime-status] [2734] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.337Z] [runtime-status] [2734] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:13:16.337Z] [runtime-status] [2734] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:13:16.342Z] [runtime-status] [2734] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.344Z] [runtime-status] [2734] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.346Z] [runtime-status] [2734] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:16.348Z] [runtime-status] [2734] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:13:16.773Z] [runtime-status] [2734] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:13:16.774Z] [runtime-status] [2734] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:13:16.774Z] [runtime-status] [2734] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:13:16.784Z] [runtime-status] [2734] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock"}}
[debug] [2020-09-26T23:13:16.791Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:13:16.801Z] [runtime-status] [2734] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  900 {"user":"Payment Request amount >>>  900","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  900"}}
[debug] [2020-09-26T23:13:16.831Z] [runtime-status] [2734] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:13:17.398Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: IDLE"}}
[debug] [2020-09-26T23:13:17.398Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:13:23.902Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:13:23.902Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:13:23.902Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:13:23.902Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:13:23.902Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock"}}
[debug] [2020-09-26T23:13:23.903Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: BUSY"}}
[debug] [2020-09-26T23:13:23.903Z] [runtime-status] [2734] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:13:23.904Z] [runtime-status] [2734] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:13:23.904Z] [runtime-status] [2734] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:13:23.904Z] [runtime-status] [2734] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2734.sock"}}
[debug] [2020-09-26T23:13:23.905Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:13:23.910Z] [runtime-status] [2734] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:13:23.910Z] [runtime-status] [2734] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2734] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2734) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2734) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2734) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2734) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2734) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2734) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2734) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2734) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2734) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:13:27.916Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: exited"}}
[debug] [2020-09-26T23:13:27.917Z] [worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-68c16949-d72a-4baf-9bdb-0d5ef02e9b19]: FINISHED"}}
[debug] [2020-09-26T23:13:27.917Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:13:38.075Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:13:38.075Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:13:38.075Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3609869 --> api
[debug] [2020-09-26T23:13:38.075Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:13:38.087Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:13:38.088Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:13:38.088Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:13:38.088Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock"}}
[debug] [2020-09-26T23:13:38.088Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: BUSY"}}
[debug] [2020-09-26T23:13:38.535Z] [runtime-status] [2737] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:13:38.536Z] [runtime-status] [2737] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:13:38.553Z] [runtime-status] [2737] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.554Z] [runtime-status] [2737] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.555Z] [runtime-status] [2737] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.558Z] [runtime-status] [2737] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:13:38.558Z] [runtime-status] [2737] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.590Z] [runtime-status] [2737] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:13:38.590Z] [runtime-status] [2737] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:13:38.591Z] [runtime-status] [2737] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.591Z] [runtime-status] [2737] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.592Z] [runtime-status] [2737] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:13:38.592Z] [runtime-status] [2737] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:13:38.696Z] [runtime-status] [2737] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:13:38.696Z] [runtime-status] [2737] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:13:38.696Z] [runtime-status] [2737] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:13:38.701Z] [runtime-status] [2737] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock"}}
[debug] [2020-09-26T23:13:38.705Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:13:38.714Z] [runtime-status] [2737] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  3609869 {"user":"Payment Request amount >>>  3609869","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  3609869"}}
[debug] [2020-09-26T23:13:38.726Z] [runtime-status] [2737] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:13:39.319Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: IDLE"}}
[debug] [2020-09-26T23:13:39.319Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:13:52.839Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:13:52.840Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:13:52.840Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:13:52.840Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:13:52.840Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock"}}
[debug] [2020-09-26T23:13:52.840Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: BUSY"}}
[debug] [2020-09-26T23:13:52.841Z] [runtime-status] [2737] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:13:52.842Z] [runtime-status] [2737] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:13:52.842Z] [runtime-status] [2737] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:13:52.842Z] [runtime-status] [2737] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2737.sock"}}
[debug] [2020-09-26T23:13:52.843Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:13:52.848Z] [runtime-status] [2737] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:13:52.848Z] [runtime-status] [2737] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2737] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2737) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2737) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2737) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2737) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2737) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2737) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2737) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2737) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2737) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:13:59.865Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T23:13:59.865Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T23:13:59.865Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=18000000 --> api
[debug] [2020-09-26T23:13:59.885Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:13:59.885Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T23:13:59.885Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:13:59.885Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock"}}
[debug] [2020-09-26T23:13:59.885Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: BUSY"}}
[debug] [2020-09-26T23:14:00.493Z] [runtime-status] [2739] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:14:00.504Z] [runtime-status] [2739] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:14:00.519Z] [runtime-status] [2739] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.521Z] [runtime-status] [2739] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.524Z] [runtime-status] [2739] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.529Z] [runtime-status] [2739] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:14:00.530Z] [runtime-status] [2739] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.583Z] [runtime-status] [2739] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:14:00.583Z] [runtime-status] [2739] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:14:00.585Z] [runtime-status] [2739] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.586Z] [runtime-status] [2739] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.587Z] [runtime-status] [2739] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:14:00.588Z] [runtime-status] [2739] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:14:00.760Z] [runtime-status] [2739] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:14:00.761Z] [runtime-status] [2739] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:14:00.761Z] [runtime-status] [2739] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:14:00.770Z] [runtime-status] [2739] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock"}}
[debug] [2020-09-26T23:14:00.779Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:14:00.789Z] [runtime-status] [2739] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  18000000 {"user":"Payment Request amount >>>  18000000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  18000000"}}
[debug] [2020-09-26T23:14:00.811Z] [runtime-status] [2739] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:14:01.352Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: IDLE"}}
[debug] [2020-09-26T23:14:01.353Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:14:23.925Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: exited"}}
[debug] [2020-09-26T23:14:23.925Z] [worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c9884ae-a71d-48f3-926b-43760629aac9]: FINISHED"}}
[debug] [2020-09-26T23:14:23.925Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:14:52.861Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: exited"}}
[debug] [2020-09-26T23:14:52.861Z] [worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6571bba1-730e-4618-ae42-c43e85a5aded]: FINISHED"}}
[debug] [2020-09-26T23:14:52.861Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:22:06.587Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:22:06.587Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:22:06.587Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3995.0000000000005 --> api
[debug] [2020-09-26T23:22:06.587Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-09-26T23:22:06.588Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:22:06.588Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock"}}
[debug] [2020-09-26T23:22:06.588Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: BUSY"}}
[debug] [2020-09-26T23:22:06.592Z] [runtime-status] [2739] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:22:06.592Z] [runtime-status] [2739] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:22:06.592Z] [runtime-status] [2739] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:22:06.592Z] [runtime-status] [2739] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2739.sock"}}
[debug] [2020-09-26T23:22:06.595Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:22:06.603Z] [runtime-status] [2739] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  3995.0000000000005 {"user":"Payment Request amount >>>  3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  3995.0000000000005"}}
[debug] [2020-09-26T23:22:06.619Z] [runtime-status] [2739] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2739] Ephemeral server survived."}}
[info] >  (node:2739) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005 {"user":"(node:2739) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2739) UnhandledPromiseRejectionWarning: Error: Invalid integer: 3995.0000000000005"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2739) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2739) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2739) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2739) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2739) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2739) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:22:30.121Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:22:30.122Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:22:30.122Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:22:30.127Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:22:30.127Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:22:30.127Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:22:30.127Z] [worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2820.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2820.sock"}}
[debug] [2020-09-26T23:22:30.128Z] [worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: BUSY"}}
[debug] [2020-09-26T23:22:31.212Z] [runtime-status] [2820] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:22:31.218Z] [runtime-status] [2820] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:22:31.222Z] [runtime-status] [2820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.224Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.224Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.232Z] [runtime-status] [2820] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:22:31.233Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.510Z] [runtime-status] [2820] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:22:31.511Z] [runtime-status] [2820] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:22:31.512Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.524Z] [runtime-status] [2820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.526Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:31.526Z] [runtime-status] [2820] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:22:32.089Z] [runtime-status] [2820] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:22:32.090Z] [runtime-status] [2820] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:22:32.090Z] [runtime-status] [2820] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:22:32.107Z] [runtime-status] [2820] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2820.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2820.sock"}}
[debug] [2020-09-26T23:22:32.110Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:22:32.118Z] [runtime-status] [2820] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-26T23:22:32.195Z] [runtime-status] [2820] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2820] Ephemeral server survived."}}
[info] >  (node:2820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:22:39.043Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T23:22:39.043Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T23:22:39.043Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4095.0000000000005 --> api
[debug] [2020-09-26T23:22:39.054Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:22:39.056Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T23:22:39.056Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:22:39.056Z] [worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2823.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2823.sock"}}
[debug] [2020-09-26T23:22:39.056Z] [worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: BUSY"}}
[debug] [2020-09-26T23:22:39.632Z] [runtime-status] [2823] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:22:39.634Z] [runtime-status] [2823] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:22:39.650Z] [runtime-status] [2823] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.651Z] [runtime-status] [2823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.652Z] [runtime-status] [2823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.653Z] [runtime-status] [2823] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:22:39.654Z] [runtime-status] [2823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.747Z] [runtime-status] [2823] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:22:39.747Z] [runtime-status] [2823] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:22:39.748Z] [runtime-status] [2823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.749Z] [runtime-status] [2823] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.749Z] [runtime-status] [2823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:22:39.749Z] [runtime-status] [2823] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:22:39.916Z] [runtime-status] [2823] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:22:39.917Z] [runtime-status] [2823] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:22:39.917Z] [runtime-status] [2823] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:22:39.938Z] [runtime-status] [2823] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2823.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2823.sock"}}
[debug] [2020-09-26T23:22:39.946Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:22:39.966Z] [runtime-status] [2823] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4095.0000000000005 {"user":"Payment Request amount >>>  4095.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4095.0000000000005"}}
[debug] [2020-09-26T23:22:39.997Z] [runtime-status] [2823] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2823] Ephemeral server survived."}}
[info] >  (node:2823) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4095.0000000000005 {"user":"(node:2823) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4095.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2823) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4095.0000000000005"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2823) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2823) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2823) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2823) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2823) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2823) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:22:59.957Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2020-09-26T23:22:59.957Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2020-09-26T23:22:59.957Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4000 --> api
[debug] [2020-09-26T23:22:59.979Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:22:59.979Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-09-26T23:22:59.979Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:22:59.979Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock"}}
[debug] [2020-09-26T23:22:59.979Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: BUSY"}}
[debug] [2020-09-26T23:23:00.804Z] [runtime-status] [2834] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:23:00.807Z] [runtime-status] [2834] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:23:00.824Z] [runtime-status] [2834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.827Z] [runtime-status] [2834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.833Z] [runtime-status] [2834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.838Z] [runtime-status] [2834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:23:00.838Z] [runtime-status] [2834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.955Z] [runtime-status] [2834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:23:00.955Z] [runtime-status] [2834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:23:00.956Z] [runtime-status] [2834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.956Z] [runtime-status] [2834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.957Z] [runtime-status] [2834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:00.957Z] [runtime-status] [2834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:23:01.352Z] [runtime-status] [2834] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:23:01.353Z] [runtime-status] [2834] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:23:01.353Z] [runtime-status] [2834] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:23:01.370Z] [runtime-status] [2834] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock"}}
[debug] [2020-09-26T23:23:01.375Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:23:01.388Z] [runtime-status] [2834] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4000 {"user":"Payment Request amount >>>  4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4000"}}
[debug] [2020-09-26T23:23:01.435Z] [runtime-status] [2834] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:23:02.037Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: IDLE"}}
[debug] [2020-09-26T23:23:02.037Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:23:06.610Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: exited"}}
[debug] [2020-09-26T23:23:06.610Z] [worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4a67ab24-5e6d-4ae3-b852-77d1a0bfc500]: FINISHED"}}
[debug] [2020-09-26T23:23:06.610Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:23:32.109Z] [worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: exited"}}
[debug] [2020-09-26T23:23:32.109Z] [worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a690d2b8-815f-4c99-81fe-05b37a177522]: FINISHED"}}
[debug] [2020-09-26T23:23:32.109Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:23:39.933Z] [worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: exited"}}
[debug] [2020-09-26T23:23:39.933Z] [worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3b4c094b-767e-4bc3-809e-bbf03ad8df5a]: FINISHED"}}
[debug] [2020-09-26T23:23:39.933Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:23:41.021Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:23:41.021Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:23:41.021Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:23:41.021Z] [worker-pool] Cleaned up workers for api: 4 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 1"}}
[debug] [2020-09-26T23:23:41.021Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:23:41.022Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock"}}
[debug] [2020-09-26T23:23:41.022Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: BUSY"}}
[debug] [2020-09-26T23:23:41.023Z] [runtime-status] [2834] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:23:41.023Z] [runtime-status] [2834] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:23:41.023Z] [runtime-status] [2834] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:23:41.023Z] [runtime-status] [2834] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2834.sock"}}
[debug] [2020-09-26T23:23:41.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:23:41.028Z] [runtime-status] [2834] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:23:41.028Z] [runtime-status] [2834] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2834] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:23:52.002Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:23:52.002Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:23:52.002Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=36040 --> api
[debug] [2020-09-26T23:23:52.036Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:23:52.036Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:23:52.036Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:23:52.037Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock"}}
[debug] [2020-09-26T23:23:52.037Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: BUSY"}}
[debug] [2020-09-26T23:23:52.937Z] [runtime-status] [2850] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:23:52.941Z] [runtime-status] [2850] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:23:52.952Z] [runtime-status] [2850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:52.954Z] [runtime-status] [2850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:52.955Z] [runtime-status] [2850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:52.956Z] [runtime-status] [2850] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:23:52.956Z] [runtime-status] [2850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:53.064Z] [runtime-status] [2850] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:23:53.065Z] [runtime-status] [2850] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:23:53.066Z] [runtime-status] [2850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:53.067Z] [runtime-status] [2850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:53.068Z] [runtime-status] [2850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:23:53.068Z] [runtime-status] [2850] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:23:53.362Z] [runtime-status] [2850] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:23:53.363Z] [runtime-status] [2850] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:23:53.363Z] [runtime-status] [2850] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:23:53.390Z] [runtime-status] [2850] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock"}}
[debug] [2020-09-26T23:23:53.393Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:23:53.418Z] [runtime-status] [2850] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  36040 {"user":"Payment Request amount >>>  36040","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  36040"}}
[debug] [2020-09-26T23:23:53.444Z] [runtime-status] [2850] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:23:54.016Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: IDLE"}}
[debug] [2020-09-26T23:23:54.016Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:24:21.994Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:24:21.995Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:24:21.995Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=40.55 --> api
[debug] [2020-09-26T23:24:21.995Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:24:21.995Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock"}}
[debug] [2020-09-26T23:24:21.995Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: BUSY"}}
[debug] [2020-09-26T23:24:21.999Z] [runtime-status] [2850] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:24:21.999Z] [runtime-status] [2850] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:24:21.999Z] [runtime-status] [2850] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:24:21.999Z] [runtime-status] [2850] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2850.sock"}}
[debug] [2020-09-26T23:24:22.005Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:24:22.014Z] [runtime-status] [2850] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:24:22.014Z] [runtime-status] [2850] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2850] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  40.55 {"user":"Payment Request amount >>>  40.55","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  40.55"}}
[info] >  (node:2850) UnhandledPromiseRejectionWarning: Error: Invalid integer: 40.55 {"user":"(node:2850) UnhandledPromiseRejectionWarning: Error: Invalid integer: 40.55","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2850) UnhandledPromiseRejectionWarning: Error: Invalid integer: 40.55"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2850) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2850) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2850) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2850) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2850) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2850) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:24:41.050Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: exited"}}
[debug] [2020-09-26T23:24:41.050Z] [worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d9c9363-c738-472c-8986-935f10a358e9]: FINISHED"}}
[debug] [2020-09-26T23:24:41.050Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:25:11.511Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:25:11.511Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:25:11.511Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4054.9999999999995 --> api
[debug] [2020-09-26T23:25:11.511Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:25:11.525Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:25:11.530Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:25:11.530Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:25:11.530Z] [worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2881.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2881.sock"}}
[debug] [2020-09-26T23:25:11.530Z] [worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: BUSY"}}
[debug] [2020-09-26T23:25:12.581Z] [runtime-status] [2881] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:25:12.582Z] [runtime-status] [2881] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:25:12.593Z] [runtime-status] [2881] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.598Z] [runtime-status] [2881] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.598Z] [runtime-status] [2881] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.600Z] [runtime-status] [2881] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:25:12.605Z] [runtime-status] [2881] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.784Z] [runtime-status] [2881] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:25:12.785Z] [runtime-status] [2881] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:25:12.785Z] [runtime-status] [2881] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.786Z] [runtime-status] [2881] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.786Z] [runtime-status] [2881] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:25:12.787Z] [runtime-status] [2881] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:25:13.081Z] [runtime-status] [2881] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:25:13.082Z] [runtime-status] [2881] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:25:13.082Z] [runtime-status] [2881] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:25:13.088Z] [runtime-status] [2881] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2881.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2881.sock"}}
[debug] [2020-09-26T23:25:13.091Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:25:13.104Z] [runtime-status] [2881] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4054.9999999999995 {"user":"Payment Request amount >>>  4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4054.9999999999995"}}
[debug] [2020-09-26T23:25:13.121Z] [runtime-status] [2881] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2881] Ephemeral server survived."}}
[info] >  (node:2881) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995 {"user":"(node:2881) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2881) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2881) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2881) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2881) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2881) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2881) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2881) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:25:22.048Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: exited"}}
[debug] [2020-09-26T23:25:22.048Z] [worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3c9c3601-300f-4c8d-b084-192edf44ff65]: FINISHED"}}
[debug] [2020-09-26T23:25:22.048Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:26:13.118Z] [worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: exited"}}
[debug] [2020-09-26T23:26:13.118Z] [worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-539dc8ea-bc48-4f46-992f-4ef0bd91de9c]: FINISHED"}}
[debug] [2020-09-26T23:26:13.118Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:27:11.949Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:27:11.949Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:27:11.949Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:27:11.949Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-26T23:27:11.955Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:27:11.956Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-26T23:27:11.956Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:27:11.956Z] [worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2905.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2905.sock"}}
[debug] [2020-09-26T23:27:11.956Z] [worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: BUSY"}}
[debug] [2020-09-26T23:27:13.123Z] [runtime-status] [2905] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:27:13.155Z] [runtime-status] [2905] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:27:13.259Z] [runtime-status] [2905] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.266Z] [runtime-status] [2905] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.267Z] [runtime-status] [2905] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.269Z] [runtime-status] [2905] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:27:13.270Z] [runtime-status] [2905] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.436Z] [runtime-status] [2905] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:27:13.436Z] [runtime-status] [2905] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:27:13.437Z] [runtime-status] [2905] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.438Z] [runtime-status] [2905] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.439Z] [runtime-status] [2905] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:13.439Z] [runtime-status] [2905] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:27:14.027Z] [runtime-status] [2905] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:27:14.057Z] [runtime-status] [2905] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:27:14.060Z] [runtime-status] [2905] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:27:14.081Z] [runtime-status] [2905] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2905.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2905.sock"}}
[debug] [2020-09-26T23:27:14.088Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:27:14.128Z] [runtime-status] [2905] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-26T23:27:14.178Z] [runtime-status] [2905] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2905] Ephemeral server survived."}}
[info] >  (node:2905) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2905) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2905) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2905) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2905) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2905) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2905) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2905) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2905) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:27:19.902Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:27:19.902Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:27:19.902Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4054.9999999999995 --> api
[debug] [2020-09-26T23:27:19.911Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:27:19.911Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:27:19.911Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:27:19.911Z] [worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2908.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2908.sock"}}
[debug] [2020-09-26T23:27:19.911Z] [worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: BUSY"}}
[debug] [2020-09-26T23:27:20.380Z] [runtime-status] [2908] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:27:20.388Z] [runtime-status] [2908] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:27:20.392Z] [runtime-status] [2908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.397Z] [runtime-status] [2908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.398Z] [runtime-status] [2908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.401Z] [runtime-status] [2908] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:27:20.403Z] [runtime-status] [2908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.475Z] [runtime-status] [2908] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:27:20.475Z] [runtime-status] [2908] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:27:20.476Z] [runtime-status] [2908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.480Z] [runtime-status] [2908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.480Z] [runtime-status] [2908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:27:20.480Z] [runtime-status] [2908] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:27:20.595Z] [runtime-status] [2908] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:27:20.601Z] [runtime-status] [2908] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:27:20.604Z] [runtime-status] [2908] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:27:20.609Z] [runtime-status] [2908] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2908.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2908.sock"}}
[debug] [2020-09-26T23:27:20.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:27:20.622Z] [runtime-status] [2908] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4054.9999999999995 {"user":"Payment Request amount >>>  4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4054.9999999999995"}}
[debug] [2020-09-26T23:27:20.641Z] [runtime-status] [2908] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2908] Ephemeral server survived."}}
[info] >  (node:2908) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995 {"user":"(node:2908) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2908) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2908) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2908) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2908) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2908) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2908) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2908) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:28:14.080Z] [worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: exited"}}
[debug] [2020-09-26T23:28:14.080Z] [worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aae7b6fb-7800-4ce8-a46d-bb5e322f63f8]: FINISHED"}}
[debug] [2020-09-26T23:28:14.080Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:28:19.190Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:28:19.190Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:28:19.190Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:28:19.191Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:28:19.197Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:28:19.198Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:28:19.198Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:28:19.198Z] [worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2944.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2944.sock"}}
[debug] [2020-09-26T23:28:19.198Z] [worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: BUSY"}}
[debug] [2020-09-26T23:28:20.178Z] [runtime-status] [2944] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:28:20.184Z] [runtime-status] [2944] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:28:20.208Z] [runtime-status] [2944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.210Z] [runtime-status] [2944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.211Z] [runtime-status] [2944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.213Z] [runtime-status] [2944] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:28:20.215Z] [runtime-status] [2944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.369Z] [runtime-status] [2944] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:28:20.370Z] [runtime-status] [2944] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:28:20.370Z] [runtime-status] [2944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.371Z] [runtime-status] [2944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.372Z] [runtime-status] [2944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:20.372Z] [runtime-status] [2944] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:28:20.632Z] [worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: exited"}}
[debug] [2020-09-26T23:28:20.633Z] [worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-81e0e16b-ff21-4a93-a88d-0b4c3c89e24f]: FINISHED"}}
[debug] [2020-09-26T23:28:20.633Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:28:20.830Z] [runtime-status] [2944] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:28:20.832Z] [runtime-status] [2944] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:28:20.832Z] [runtime-status] [2944] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:28:20.841Z] [runtime-status] [2944] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2944.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2944.sock"}}
[debug] [2020-09-26T23:28:20.844Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:28:20.855Z] [runtime-status] [2944] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-26T23:28:20.992Z] [runtime-status] [2944] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2944] Ephemeral server survived."}}
[info] >  (node:2944) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2944) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2944) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2944) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2944) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2944) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2944) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2944) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2944) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:28:26.817Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:28:26.817Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:28:26.817Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4054.9999999999995 --> api
[debug] [2020-09-26T23:28:26.817Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:28:26.830Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:28:26.830Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:28:26.830Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:28:26.830Z] [worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2946.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2946.sock"}}
[debug] [2020-09-26T23:28:26.830Z] [worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: BUSY"}}
[debug] [2020-09-26T23:28:27.364Z] [runtime-status] [2946] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:28:27.370Z] [runtime-status] [2946] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:28:27.374Z] [runtime-status] [2946] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.376Z] [runtime-status] [2946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.379Z] [runtime-status] [2946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.381Z] [runtime-status] [2946] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:28:27.382Z] [runtime-status] [2946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.434Z] [runtime-status] [2946] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:28:27.434Z] [runtime-status] [2946] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:28:27.436Z] [runtime-status] [2946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.437Z] [runtime-status] [2946] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.437Z] [runtime-status] [2946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:28:27.437Z] [runtime-status] [2946] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:28:27.557Z] [runtime-status] [2946] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:28:27.558Z] [runtime-status] [2946] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:28:27.558Z] [runtime-status] [2946] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:28:27.583Z] [runtime-status] [2946] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2946.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2946.sock"}}
[debug] [2020-09-26T23:28:27.587Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:28:27.599Z] [runtime-status] [2946] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4054.9999999999995 {"user":"Payment Request amount >>>  4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4054.9999999999995"}}
[debug] [2020-09-26T23:28:27.635Z] [runtime-status] [2946] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2946] Ephemeral server survived."}}
[info] >  (node:2946) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995 {"user":"(node:2946) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2946) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4054.9999999999995"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2946) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2946) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2946) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2946) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2946) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2946) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:29:07.203Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T23:29:07.203Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T23:29:07.203Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=11024 --> api
[debug] [2020-09-26T23:29:07.247Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:29:07.247Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-26T23:29:07.247Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:29:07.247Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:07.247Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY"}}
[debug] [2020-09-26T23:29:08.114Z] [runtime-status] [2949] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:29:08.119Z] [runtime-status] [2949] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:29:08.126Z] [runtime-status] [2949] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.131Z] [runtime-status] [2949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.133Z] [runtime-status] [2949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.135Z] [runtime-status] [2949] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:29:08.136Z] [runtime-status] [2949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.236Z] [runtime-status] [2949] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:29:08.237Z] [runtime-status] [2949] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:29:08.238Z] [runtime-status] [2949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.242Z] [runtime-status] [2949] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.242Z] [runtime-status] [2949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:29:08.243Z] [runtime-status] [2949] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:29:08.530Z] [runtime-status] [2949] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:29:08.531Z] [runtime-status] [2949] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:29:08.531Z] [runtime-status] [2949] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:29:08.537Z] [runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:08.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:29:08.550Z] [runtime-status] [2949] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  11024 {"user":"Payment Request amount >>>  11024","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  11024"}}
[debug] [2020-09-26T23:29:08.569Z] [runtime-status] [2949] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:29:09.169Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: IDLE"}}
[debug] [2020-09-26T23:29:09.169Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:29:20.574Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-26T23:29:20.574Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-26T23:29:20.574Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=6969 --> api
[debug] [2020-09-26T23:29:20.574Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:29:20.574Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:20.574Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY"}}
[debug] [2020-09-26T23:29:20.575Z] [runtime-status] [2949] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:29:20.576Z] [runtime-status] [2949] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:29:20.576Z] [runtime-status] [2949] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:29:20.578Z] [runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:20.578Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:29:20.585Z] [runtime-status] [2949] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:29:20.586Z] [runtime-status] [2949] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  6969 {"user":"Payment Request amount >>>  6969","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  6969"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:29:20.830Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: IDLE"}}
[debug] [2020-09-26T23:29:20.830Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:29:20.861Z] [worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: exited"}}
[debug] [2020-09-26T23:29:20.861Z] [worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-23bfbe7d-46de-495c-91b0-692940faa317]: FINISHED"}}
[debug] [2020-09-26T23:29:20.861Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:29:27.605Z] [worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: exited"}}
[debug] [2020-09-26T23:29:27.606Z] [worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-617a6a2d-8ded-4dc2-ace9-4e341ee487c9]: FINISHED"}}
[debug] [2020-09-26T23:29:27.606Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:29:33.720Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:29:33.720Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:29:33.720Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:29:33.720Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-09-26T23:29:33.720Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:29:33.720Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:33.720Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: BUSY"}}
[debug] [2020-09-26T23:29:33.721Z] [runtime-status] [2949] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:29:33.722Z] [runtime-status] [2949] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:29:33.722Z] [runtime-status] [2949] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:29:33.722Z] [runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2949.sock"}}
[debug] [2020-09-26T23:29:33.722Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:29:33.730Z] [runtime-status] [2949] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-26T23:29:33.731Z] [runtime-status] [2949] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2949] Ephemeral server survived."}}
[info] >  (node:2949) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2949) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2949) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2949) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2949) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2949) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2949) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2949) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2949) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:30:18.212Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:30:18.213Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:30:18.213Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4069 --> api
[debug] [2020-09-26T23:30:18.219Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:30:18.219Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:30:18.219Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:30:18.219Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock"}}
[debug] [2020-09-26T23:30:18.220Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: BUSY"}}
[debug] [2020-09-26T23:30:19.161Z] [runtime-status] [2966] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:30:19.164Z] [runtime-status] [2966] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:30:19.181Z] [runtime-status] [2966] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.199Z] [runtime-status] [2966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.199Z] [runtime-status] [2966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.203Z] [runtime-status] [2966] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:30:19.203Z] [runtime-status] [2966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.438Z] [runtime-status] [2966] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:30:19.438Z] [runtime-status] [2966] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:30:19.452Z] [runtime-status] [2966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.453Z] [runtime-status] [2966] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.460Z] [runtime-status] [2966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:30:19.461Z] [runtime-status] [2966] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:30:19.849Z] [runtime-status] [2966] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:30:19.850Z] [runtime-status] [2966] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:30:19.850Z] [runtime-status] [2966] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:30:19.859Z] [runtime-status] [2966] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock"}}
[debug] [2020-09-26T23:30:19.865Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:30:19.874Z] [runtime-status] [2966] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4069 {"user":"Payment Request amount >>>  4069","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4069"}}
[debug] [2020-09-26T23:30:19.896Z] [runtime-status] [2966] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:30:20.434Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: IDLE"}}
[debug] [2020-09-26T23:30:20.434Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:30:33.738Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: exited"}}
[debug] [2020-09-26T23:30:33.738Z] [worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0520c7ad-9d0b-4ba6-b740-0de95dcaac94]: FINISHED"}}
[debug] [2020-09-26T23:30:33.738Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:30:44.532Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:30:44.532Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:30:44.532Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4070.0000000000005 --> api
[debug] [2020-09-26T23:30:44.532Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:30:44.532Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:30:44.533Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock"}}
[debug] [2020-09-26T23:30:44.533Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: BUSY"}}
[debug] [2020-09-26T23:30:44.536Z] [runtime-status] [2966] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:30:44.537Z] [runtime-status] [2966] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:30:44.537Z] [runtime-status] [2966] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:30:44.537Z] [runtime-status] [2966] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2966.sock"}}
[debug] [2020-09-26T23:30:44.538Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:30:44.566Z] [runtime-status] [2966] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:30:44.566Z] [runtime-status] [2966] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2966] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  4070.0000000000005 {"user":"Payment Request amount >>>  4070.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4070.0000000000005"}}
[info] >  (node:2966) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4070.0000000000005 {"user":"(node:2966) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4070.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2966) UnhandledPromiseRejectionWarning: Error: Invalid integer: 4070.0000000000005"}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2966) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2966) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2966) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2966) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2966) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2966) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-26T23:31:07.477Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-26T23:31:07.477Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-26T23:31:07.477Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4071 --> api
[debug] [2020-09-26T23:31:07.493Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-26T23:31:07.493Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-26T23:31:07.493Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:31:07.493Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock"}}
[debug] [2020-09-26T23:31:07.493Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: BUSY"}}
[debug] [2020-09-26T23:31:08.930Z] [runtime-status] [2976] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-26T23:31:08.945Z] [runtime-status] [2976] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Disabled runtime features: undefined"}}
[debug] [2020-09-26T23:31:08.955Z] [runtime-status] [2976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:08.960Z] [runtime-status] [2976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:08.961Z] [runtime-status] [2976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:08.964Z] [runtime-status] [2976] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-26T23:31:08.969Z] [runtime-status] [2976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:09.061Z] [runtime-status] [2976] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-26T23:31:09.063Z] [runtime-status] [2976] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-26T23:31:09.064Z] [runtime-status] [2976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:09.065Z] [runtime-status] [2976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:09.068Z] [runtime-status] [2976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-26T23:31:09.069Z] [runtime-status] [2976] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-26T23:31:09.376Z] [runtime-status] [2976] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:31:09.377Z] [runtime-status] [2976] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:31:09.377Z] [runtime-status] [2976] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:31:09.386Z] [runtime-status] [2976] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock"}}
[debug] [2020-09-26T23:31:09.389Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:31:09.396Z] [runtime-status] [2976] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4071 {"user":"Payment Request amount >>>  4071","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4071"}}
[debug] [2020-09-26T23:31:09.434Z] [runtime-status] [2976] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-26T23:31:10.160Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: IDLE"}}
[debug] [2020-09-26T23:31:10.160Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:31:44.554Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: exited"}}
[debug] [2020-09-26T23:31:44.554Z] [worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c883e5ee-aebf-49f9-b879-0dbe048796c7]: FINISHED"}}
[debug] [2020-09-26T23:31:44.555Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-26T23:38:59.003Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-26T23:38:59.003Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-26T23:38:59.003Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-26T23:38:59.003Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-26T23:38:59.003Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-26T23:38:59.003Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock"}}
[debug] [2020-09-26T23:38:59.003Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: BUSY"}}
[debug] [2020-09-26T23:38:59.004Z] [runtime-status] [2976] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-26T23:38:59.004Z] [runtime-status] [2976] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-26T23:38:59.004Z] [runtime-status] [2976] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Running api in mode HTTPS"}}
[debug] [2020-09-26T23:38:59.004Z] [runtime-status] [2976] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_2976.sock"}}
[debug] [2020-09-26T23:38:59.005Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-26T23:38:59.012Z] [runtime-status] [2976] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Ephemeral server handling POST request"}}
[debug] [2020-09-26T23:38:59.012Z] [runtime-status] [2976] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2976] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:2976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-26T23:39:59.025Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: exited"}}
[debug] [2020-09-26T23:39:59.025Z] [worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ee7c512-01f7-4b88-8985-83fdf3c828c3]: FINISHED"}}
[debug] [2020-09-26T23:39:59.025Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-27T00:03:05.342Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-27T00:03:05.344Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-27T00:03:05.345Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4099 --> api
[debug] [2020-09-27T00:03:05.345Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-27T00:03:05.373Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-27T00:03:05.373Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-27T00:03:05.374Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:03:05.374Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock"}}
[debug] [2020-09-27T00:03:05.374Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: BUSY"}}
[debug] [2020-09-27T00:03:06.453Z] [runtime-status] [3314] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-27T00:03:06.455Z] [runtime-status] [3314] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Disabled runtime features: undefined"}}
[debug] [2020-09-27T00:03:06.471Z] [runtime-status] [3314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.474Z] [runtime-status] [3314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.474Z] [runtime-status] [3314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.476Z] [runtime-status] [3314] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-27T00:03:06.476Z] [runtime-status] [3314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.587Z] [runtime-status] [3314] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-27T00:03:06.588Z] [runtime-status] [3314] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-27T00:03:06.588Z] [runtime-status] [3314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.589Z] [runtime-status] [3314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.591Z] [runtime-status] [3314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:03:06.591Z] [runtime-status] [3314] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-27T00:03:06.914Z] [runtime-status] [3314] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:03:06.923Z] [runtime-status] [3314] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:03:06.924Z] [runtime-status] [3314] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:03:06.929Z] [runtime-status] [3314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock"}}
[debug] [2020-09-27T00:03:06.933Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:03:06.944Z] [runtime-status] [3314] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4099 {"user":"Payment Request amount >>>  4099","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4099"}}
[debug] [2020-09-27T00:03:06.965Z] [runtime-status] [3314] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-27T00:03:07.683Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: IDLE"}}
[debug] [2020-09-27T00:03:07.683Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-27T00:04:39.080Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-27T00:04:39.080Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-27T00:04:39.080Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-27T00:04:39.080Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:04:39.080Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock"}}
[debug] [2020-09-27T00:04:39.080Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: BUSY"}}
[debug] [2020-09-27T00:04:39.081Z] [runtime-status] [3314] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:04:39.081Z] [runtime-status] [3314] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:04:39.082Z] [runtime-status] [3314] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:04:39.082Z] [runtime-status] [3314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3314.sock"}}
[debug] [2020-09-27T00:04:39.082Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:04:39.088Z] [runtime-status] [3314] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Ephemeral server handling POST request"}}
[debug] [2020-09-27T00:04:39.088Z] [runtime-status] [3314] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3314] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:3314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3314) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3314) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3314) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-27T00:04:57.426Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-27T00:04:57.426Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-27T00:04:57.426Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-27T00:04:57.439Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-27T00:04:57.439Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-27T00:04:57.439Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:04:57.440Z] [worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3325.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3325.sock"}}
[debug] [2020-09-27T00:04:57.440Z] [worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: BUSY"}}
[debug] [2020-09-27T00:04:58.689Z] [runtime-status] [3325] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-27T00:04:58.694Z] [runtime-status] [3325] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Disabled runtime features: undefined"}}
[debug] [2020-09-27T00:04:58.705Z] [runtime-status] [3325] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:58.759Z] [runtime-status] [3325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:58.762Z] [runtime-status] [3325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:58.834Z] [runtime-status] [3325] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-27T00:04:58.835Z] [runtime-status] [3325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:59.087Z] [runtime-status] [3325] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-27T00:04:59.088Z] [runtime-status] [3325] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-27T00:04:59.089Z] [runtime-status] [3325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:59.090Z] [runtime-status] [3325] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:59.090Z] [runtime-status] [3325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:04:59.091Z] [runtime-status] [3325] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-27T00:04:59.765Z] [runtime-status] [3325] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:04:59.787Z] [runtime-status] [3325] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:04:59.788Z] [runtime-status] [3325] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:04:59.792Z] [runtime-status] [3325] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3325.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3325.sock"}}
[debug] [2020-09-27T00:04:59.795Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:04:59.809Z] [runtime-status] [3325] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[debug] [2020-09-27T00:04:59.960Z] [runtime-status] [3325] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3325] Ephemeral server survived."}}
[info] >  (node:3325) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3325) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3325) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3325) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3325) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3325) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3325) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3325) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3325) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-27T00:05:05.723Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-27T00:05:05.723Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-27T00:05:05.723Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=4099 --> api
[debug] [2020-09-27T00:05:05.732Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-27T00:05:05.732Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-09-27T00:05:05.732Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:05:05.732Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock"}}
[debug] [2020-09-27T00:05:05.732Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: BUSY"}}
[debug] [2020-09-27T00:05:06.677Z] [runtime-status] [3327] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-27T00:05:06.680Z] [runtime-status] [3327] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Disabled runtime features: undefined"}}
[debug] [2020-09-27T00:05:06.694Z] [runtime-status] [3327] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.707Z] [runtime-status] [3327] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.709Z] [runtime-status] [3327] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.711Z] [runtime-status] [3327] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-27T00:05:06.711Z] [runtime-status] [3327] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.830Z] [runtime-status] [3327] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-27T00:05:06.830Z] [runtime-status] [3327] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-27T00:05:06.830Z] [runtime-status] [3327] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.832Z] [runtime-status] [3327] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.833Z] [runtime-status] [3327] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:05:06.838Z] [runtime-status] [3327] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-27T00:05:07.258Z] [runtime-status] [3327] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:05:07.273Z] [runtime-status] [3327] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:05:07.273Z] [runtime-status] [3327] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:05:07.277Z] [runtime-status] [3327] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock"}}
[debug] [2020-09-27T00:05:07.281Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:05:07.288Z] [runtime-status] [3327] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  4099 {"user":"Payment Request amount >>>  4099","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  4099"}}
[debug] [2020-09-27T00:05:07.303Z] [runtime-status] [3327] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-27T00:05:07.816Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: IDLE"}}
[debug] [2020-09-27T00:05:07.816Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-27T00:05:28.304Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-09-27T00:05:28.305Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-09-27T00:05:28.305Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-27T00:05:28.305Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:05:28.305Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock"}}
[debug] [2020-09-27T00:05:28.305Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: BUSY"}}
[debug] [2020-09-27T00:05:28.308Z] [runtime-status] [3327] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:05:28.308Z] [runtime-status] [3327] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:05:28.308Z] [runtime-status] [3327] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:05:28.308Z] [runtime-status] [3327] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3327.sock"}}
[debug] [2020-09-27T00:05:28.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:05:28.314Z] [runtime-status] [3327] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Ephemeral server handling POST request"}}
[debug] [2020-09-27T00:05:28.314Z] [runtime-status] [3327] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3327] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:3327) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3327) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3327) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3327) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3327) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3327) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3327) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3327) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3327) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-27T00:05:39.103Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: exited"}}
[debug] [2020-09-27T00:05:39.103Z] [worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ede7af4b-c08a-44ee-9a56-1a754e6c5907]: FINISHED"}}
[debug] [2020-09-27T00:05:39.103Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-27T00:05:59.813Z] [worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: exited"}}
[debug] [2020-09-27T00:05:59.813Z] [worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a3fc607-6343-4333-a6ef-6a44dc5d0b01]: FINISHED"}}
[debug] [2020-09-27T00:05:59.813Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-27T00:06:28.331Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: exited"}}
[debug] [2020-09-27T00:06:28.331Z] [worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2f67ba45-350c-46e7-a675-9f20130a4fee]: FINISHED"}}
[debug] [2020-09-27T00:06:28.331Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-27T00:38:26.684Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-27T00:38:26.686Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-27T00:38:26.686Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=6969 --> api
[debug] [2020-09-27T00:38:26.687Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-09-27T00:38:26.698Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-27T00:38:26.698Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-27T00:38:26.700Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:38:26.701Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock"}}
[debug] [2020-09-27T00:38:26.701Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: BUSY"}}
[debug] [2020-09-27T00:38:27.869Z] [runtime-status] [3913] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-27T00:38:27.874Z] [runtime-status] [3913] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Disabled runtime features: undefined"}}
[debug] [2020-09-27T00:38:27.894Z] [runtime-status] [3913] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:27.897Z] [runtime-status] [3913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:27.898Z] [runtime-status] [3913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:27.901Z] [runtime-status] [3913] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-27T00:38:27.903Z] [runtime-status] [3913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:28.009Z] [runtime-status] [3913] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-27T00:38:28.009Z] [runtime-status] [3913] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-27T00:38:28.010Z] [runtime-status] [3913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:28.011Z] [runtime-status] [3913] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:28.012Z] [runtime-status] [3913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:38:28.012Z] [runtime-status] [3913] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-27T00:38:28.347Z] [runtime-status] [3913] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:38:28.350Z] [runtime-status] [3913] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:38:28.350Z] [runtime-status] [3913] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:38:28.360Z] [runtime-status] [3913] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock"}}
[debug] [2020-09-27T00:38:28.367Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:38:28.415Z] [runtime-status] [3913] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  6969 {"user":"Payment Request amount >>>  6969","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  6969"}}
[debug] [2020-09-27T00:38:28.457Z] [runtime-status] [3913] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-27T00:38:29.072Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: IDLE"}}
[debug] [2020-09-27T00:38:29.072Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-27T00:38:35.498Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-27T00:38:35.499Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-27T00:38:35.499Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-27T00:38:35.499Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:38:35.499Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock"}}
[debug] [2020-09-27T00:38:35.499Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: BUSY"}}
[debug] [2020-09-27T00:38:35.503Z] [runtime-status] [3913] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:38:35.504Z] [runtime-status] [3913] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:38:35.504Z] [runtime-status] [3913] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:38:35.504Z] [runtime-status] [3913] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_3913.sock"}}
[debug] [2020-09-27T00:38:35.505Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:38:35.516Z] [runtime-status] [3913] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Ephemeral server handling POST request"}}
[debug] [2020-09-27T00:38:35.516Z] [runtime-status] [3913] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3913] Ephemeral server survived."}}
[info] >  Payment Request amount >>>  0 {"user":"Payment Request amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  0"}}
[info] >  (node:3913) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3913) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3913) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3913) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3913) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3913) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3913) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3913) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3913) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-27T00:39:35.524Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: exited"}}
[debug] [2020-09-27T00:39:35.524Z] [worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-18aca78d-2302-4fc1-948a-7f95638fd58e]: FINISHED"}}
[debug] [2020-09-27T00:39:35.524Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-27T00:55:42.142Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-27T00:55:42.149Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-27T00:55:42.149Z] Accepted request POST /clone-924c0/us-central1/api/payments/create?total=3600900 --> api
[debug] [2020-09-27T00:55:42.150Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-27T00:55:42.171Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-27T00:55:42.171Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-27T00:55:42.171Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-27T00:55:42.173Z] [worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_4160.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: Assigning socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_4160.sock"}}
[debug] [2020-09-27T00:55:42.173Z] [worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: BUSY"}}
[debug] [2020-09-27T00:55:42.958Z] [runtime-status] [4160] Functions runtime initialized. {"cwd":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Functions runtime initialized. {\"cwd\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2020-09-27T00:55:42.960Z] [runtime-status] [4160] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Disabled runtime features: undefined"}}
[debug] [2020-09-27T00:55:42.965Z] [runtime-status] [4160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:42.966Z] [runtime-status] [4160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:42.967Z] [runtime-status] [4160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:42.975Z] [runtime-status] [4160] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-27T00:55:42.976Z] [runtime-status] [4160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:43.068Z] [runtime-status] [4160] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-27T00:55:43.068Z] [runtime-status] [4160] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-27T00:55:43.070Z] [runtime-status] [4160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:43.071Z] [runtime-status] [4160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:43.072Z] [runtime-status] [4160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-27T00:55:43.072Z] [runtime-status] [4160] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/malcolmcusack/Desktop/Projects/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-27T00:55:43.353Z] [runtime-status] [4160] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-27T00:55:43.355Z] [runtime-status] [4160] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-27T00:55:43.355Z] [runtime-status] [4160] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Running api in mode HTTPS"}}
[debug] [2020-09-27T00:55:43.358Z] [runtime-status] [4160] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_4160.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Attempting to listen to socketPath: /var/folders/1j/76zwl06147n7tbwbgp4fcytr0000gn/T/fire_emu_4160.sock"}}
[debug] [2020-09-27T00:55:43.367Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-27T00:55:43.382Z] [runtime-status] [4160] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Ephemeral server handling POST request"}}
[info] >  Payment Request amount >>>  3600900 {"user":"Payment Request amount >>>  3600900","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request amount >>>  3600900"}}
[debug] [2020-09-27T00:55:43.412Z] [runtime-status] [4160] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4160] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-27T00:55:44.109Z] [worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e7bcbbc2-8ab6-4cda-95de-352c3956a4f4]: IDLE"}}
[debug] [2020-09-27T00:55:44.110Z] [work-queue] {"queueLength":0,"workRunningCount":0}
